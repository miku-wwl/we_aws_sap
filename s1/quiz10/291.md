è¿™é‡Œæ˜¯ 291-300 é¢˜çš„è¯¦ç»†è§£æã€‚

---

ğŸ“ **291/529. æµæ•°æ®æ‰¹å¤„ç†æˆæœ¬ä¼˜åŒ– (Spot vs On-Demand)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **ç°çŠ¶**ï¼šEC2 24/7 è¿è¡Œæ¥æ”¶æµæ•°æ®å­˜ EBSï¼ˆé¢„ç•™å®ä¾‹ RI  expiringï¼‰ï¼›EC2 On-Demand å¤œé—´å¤„ç† 4 å°æ—¶ã€‚
* **ä¸šåŠ¡ç‰¹æ€§**ï¼šæ•°æ®é€Ÿç‡æ’å®šï¼›**ç»Ÿè®¡åˆ†æéä¸šåŠ¡å…³é”® (Non-critical)**ï¼›**å…è®¸å¤±è´¥é‡è¯• (Can be processed in next iteration)**ã€‚
* **ç›®æ ‡**ï¼š**æœ€å…·æˆæœ¬æ•ˆç›Š (Most Cost-Effective)**ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **æ‘„å–å±‚ä¼˜åŒ–**ï¼šEC2 å­˜ EBS æ˜¯æ˜‚è´µçš„ã€‚Kinesis Data Firehose æ˜¯ Serverless çš„æµå¼æ‘„å–æœåŠ¡ï¼Œå¯ä»¥ç›´æ¥å°†æ•°æ®æ‰“åŒ…å­˜å…¥ S3ã€‚**S3 å­˜å‚¨æˆæœ¬è¿œä½äº EBS**ï¼Œä¸” Firehose ä¹Ÿæ˜¯æŒ‰é‡ä»˜è´¹ï¼Œæ¶ˆé™¤äº† 24/7 è¿è¡Œ EC2 çš„æµªè´¹ã€‚
* **è®¡ç®—å±‚ä¼˜åŒ–**ï¼šå¤œé—´å¤„ç†ï¼Œéå…³é”®ï¼Œå¯é‡è¯•ã€‚è¿™æ˜¯ **Spot Instances** çš„å®Œç¾åœºæ™¯ã€‚Spot ä»·æ ¼é€šå¸¸æ˜¯ On-Demand çš„ 10%-30%ï¼ˆå³èŠ‚çœ 70%-90%ï¼‰ã€‚
* **å·¥å…·é€‰æ‹©**ï¼šAWS Batch åŸç”Ÿæ”¯æŒ Spot å®ä¾‹è°ƒåº¦ï¼Œéå¸¸é€‚åˆè¿™ç§æ‰¹å¤„ç†ä½œä¸šã€‚


3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ B**ï¼š
* **æ‘„å–**ï¼šFirehose -> S3ã€‚åˆ©ç”¨ Serverless é™ä½æ‘„å–å’Œå­˜å‚¨æˆæœ¬ã€‚
* **å¤„ç†**ï¼šAWS Batch + Spot Instancesã€‚åˆ©ç”¨ Spot å®ä¾‹æä½çš„ä»·æ ¼å¤„ç†éå…³é”®ä»»åŠ¡ã€‚å³ä½¿è¢«ä¸­æ–­ï¼ŒBatch ä¹Ÿä¼šè‡ªåŠ¨é‡è¯•æˆ–ç•™åˆ°ä¸‹æ¬¡ï¼Œç¬¦åˆé¢˜ç›®çº¦æŸã€‚




4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **A. On-Demand**ï¼šè™½ç„¶ç”¨äº† Firehoseï¼Œä½†å¤„ç†å±‚ç”¨ On-Demand EC2ï¼Œæ¯” Spot è´µå¾ˆå¤šã€‚
* **C. EC2 RI**ï¼šä¿ç•™ä¸€ç»„ 24/7 çš„ EC2 ä»…ç”¨äºæ‘„å–æ•°æ®æ˜¯å·¨å¤§çš„æµªè´¹ï¼ˆFirehose æ›´å¥½ï¼‰ã€‚
* **D. Redshift**ï¼šRedshift æˆæœ¬é«˜æ˜‚ï¼Œä¸”æ¯å¤©åªæŸ¥ä¸€æ¬¡ç»Ÿè®¡æ•°æ®ï¼Œæ€é¸¡ç”¨ç‰›åˆ€ã€‚


5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **Ingestion**ï¼šStream -> Kinesis Firehose -> S3 (Serverless & Cheap).
* **Processing**ï¼šNon-critical/Retriable -> Spot Instances.



---

ğŸ“ **292/529. æœ¬åœ° SFTP è¿ç§»ä¸Šäº‘ (Transfer Family + EFS)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **æº**ï¼šLinux VM è·‘ SFTPï¼Œåç«¯ NFS å…±äº«ã€‚
* **ç›®æ ‡**ï¼šè¿ç§»åˆ° AWSï¼Œ**é«˜å¯ç”¨ (HA)**ï¼Œ**æœ€å°è¿è¥å¼€é”€**ã€‚
* **çº¦æŸ**ï¼šå¿…é¡»æä¾›**é™æ€å…¬ç½‘ IP**ï¼ˆä¾›ä¾›åº”å•†ç™½åå•ï¼‰ï¼›ä¸‹æ¸¸åº”ç”¨éœ€æŒ‚è½½å…±äº«å­˜å‚¨ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **æœåŠ¡é€‰æ‹©**ï¼šSFTP è¿ç§»é¦–é€‰ **AWS Transfer Family**ï¼ˆå…¨æ‰˜ç®¡ï¼Œè‡ªå¸¦ HAï¼Œæœ€å°å¼€é”€ï¼‰ã€‚æ’é™¤è‡ªå·±æ­å»º EC2 (Cé€‰é¡¹)ã€‚
* **å­˜å‚¨åç«¯**ï¼šä¸‹æ¸¸åº”ç”¨éœ€è¦æŒ‚è½½å…±äº«å­˜å‚¨ï¼ˆNFS è¯­ä¹‰ï¼‰ã€‚S3 ä¸æ˜¯æ–‡ä»¶ç³»ç»Ÿï¼Œä¸èƒ½ç›´æ¥æŒ‚è½½ï¼ˆéœ€è¦ Storage Gateway æˆ–å¤æ‚å·¥å…·ï¼‰ã€‚**EFS** æ˜¯äº‘åŸç”Ÿçš„ NFSï¼Œå®Œå…¨å…¼å®¹ã€‚
* **IP é—®é¢˜**ï¼šTransfer Family é»˜è®¤ Public Endpoint IP æ˜¯åŠ¨æ€çš„ã€‚è¦é™æ€ IPï¼Œå¿…é¡»ä½¿ç”¨ **VPC Endpoint (Internet-facing)** å¹¶ç»‘å®š **Elastic IP (EIP)**ã€‚å¦‚æœæ˜¯ Public Accessible Endpoint (æ—§ç‰ˆæˆ–é VPC)ï¼Œé€šå¸¸æ— æ³•ç›´æ¥ç»‘å®š EIP æˆ–ä¸çµæ´»ã€‚é¢˜ç›®æš—ç¤ºéœ€è¦é™æ€ IPã€‚ä½†æ˜¯ï¼Œè®©æˆ‘ä»¬ä»”ç»†çœ‹é€‰é¡¹ A å’Œ B çš„åŒºåˆ«ã€‚
* **ç»†å¾®å·®åˆ«**ï¼š
* **A**ï¼šInternet-facing VPC Endpoint + EIPã€‚è¿™æ˜¯æ ‡å‡†åšæ³•æ¥å®ç°é™æ€ IPã€‚
* **B**ï¼šPublicly accessible endpointã€‚è¿™ä¸ªç«¯ç‚¹ç±»å‹æœ¬èº«ä¸æ”¯æŒç›´æ¥ç»‘å®šä½ è‡ªå·±çš„ EIPï¼ˆæˆ–è€…è¯´ä¸å¦‚ VPC Endpoint çµæ´»å’Œæ¨èç”¨äºä¼ä¸šçº§ç™½åå•åœºæ™¯ï¼‰ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒB é€‰é¡¹æ²¡æœ‰æ˜ç¡®æ EIPï¼Œè€Œé¢˜ç›®è¦æ±‚â€œä¸€ç»„é™æ€å…¬ç½‘ IPâ€ã€‚é€šå¸¸ VPC Endpoint + EIP æ˜¯æ ‡å‡†ç­”æ¡ˆã€‚
* **ä¿®æ­£**ï¼šå®é™…ä¸Šï¼ŒTransfer Family çš„ Public Endpoint ç°åœ¨çš„ç¡®å¯ä»¥å…³è” EIPï¼Œä½† A é€‰é¡¹æ˜ç¡®æåˆ°äº† VPC Endpoint å’Œ EIP çš„åˆ†é…ï¼Œè¿™åœ¨æ¶æ„ä¸Šæ›´å—æ§ã€‚è®©æˆ‘ä»¬å†çœ‹é¢˜ç›®ç»†èŠ‚ï¼šâ€œå…¬å¸å·²ç»æœ‰ DXâ€ã€‚è¿™å¯èƒ½æš—ç¤ºæ··åˆç½‘ç»œï¼Œä½† SFTP æ˜¯ç»™å¤–éƒ¨ä¾›åº”å•†ç”¨çš„ï¼ˆPublic IPï¼‰ã€‚å…³é”®ç‚¹åœ¨äº A æåˆ°äº†â€œä¸ºæ¯ä¸ªå­ç½‘æŒ‡å®šä¸€ä¸ª EIPâ€ï¼Œè¿™æ˜¯å¤š AZ é«˜å¯ç”¨çš„æ ‡å‡†é…ç½®ã€‚




3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ A**ï¼š
* **Transfer Family**ï¼šæ‰˜ç®¡ SFTPã€‚
* **Internet-facing VPC Endpoint**ï¼šå…è®¸ä½ å°† EIP ç»‘å®šåˆ° VPC ä¸­çš„ ENI ä¸Šã€‚è¿™æ ·ä¾›åº”å•†çœ‹åˆ°çš„ IP æ˜¯é™æ€çš„ EIPã€‚
* **EFS**ï¼šæ›¿ä»£ NFSï¼Œæä¾›å¤š AZ çš„å…±äº«æ–‡ä»¶å­˜å‚¨ï¼Œä¾›ä¸‹æ¸¸æŒ‚è½½ã€‚




4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **B. Public Endpoint**ï¼šæè¿°è¾ƒæ¨¡ç³Šï¼Œä¸”ä¸å¦‚ A çš„ VPC Endpoint æ–¹æ¡ˆå¯¹ç½‘ç»œæ§åˆ¶åŠ›å¼ºã€‚
* **C. EC2 + EFS**ï¼šè‡ªå·±ç»´æŠ¤ EC2 æ“ä½œç³»ç»Ÿå’Œ SFTP è½¯ä»¶ï¼Œä¸æ»¡è¶³â€œæœ€å°è¿è¥å¼€é”€â€ã€‚
* **D. FSx for Lustre**ï¼šLustre æ˜¯é«˜æ€§èƒ½è®¡ç®—ï¼ˆHPCï¼‰ç”¨çš„ï¼Œæˆæœ¬é«˜ä¸”ä¸æ˜¯é€šç”¨çš„ NFS æ›¿ä»£å“ï¼ˆè™½ç„¶æ”¯æŒ POSIXï¼Œä½†é€šå¸¸ä¸ç”¨äºè¿™ç§ç®€å•æ–‡ä»¶å…±äº«ï¼‰ã€‚


5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **SFTP Migration** -> AWS Transfer Family.
* **NFS Migration** -> EFS.
* **Static IP for Transfer Family** -> VPC Endpoint + EIPs.



---

ğŸ“ **293/529. VPC å­ç½‘æ‰©å®¹ (CIDR Resizing)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **ç°çŠ¶**ï¼šVPC `10.0.0.0/23` (512 IPs)ã€‚
* **å­ç½‘**ï¼šAZ1 `10.0.0.0/24` (256 IPs), AZ2 `10.0.1.0/24` (256 IPs)ã€‚
* **é—®é¢˜**ï¼šIP è€—å°½ï¼ˆ/23 åˆ†ç»™äº†ä¸¤ä¸ª /24ï¼Œæ²¡å‰©äº†ï¼‰ã€‚
* **éœ€æ±‚**ï¼šåˆ©ç”¨æ–°çš„ AZ3ï¼Œ**ä¸æ·»åŠ é¢å¤– IPv4 ç©ºé—´**ï¼ˆå³ä¸èƒ½åŠ  Secondary CIDRï¼‰ï¼Œ**ä¸ä¸­æ–­æœåŠ¡**ã€‚
* **èµ„æº**ï¼šASG max 20 å®ä¾‹ã€‚å½“å‰å­ç½‘è™½ç„¶å¤§ï¼Œä½†å®é™…åˆ©ç”¨ç‡ä½ï¼ˆ20 å®ä¾‹å ç”¨ä¸äº† 256 IPï¼‰ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **æ ¸å¿ƒçŸ›ç›¾**ï¼šåœ°å€ç©ºé—´è¢«å æ»¡äº†ï¼Œå¿…é¡»é€šè¿‡â€œç¼©å°ç°æœ‰å­ç½‘â€æ¥é‡Šæ”¾ç©ºé—´ç»™æ–°å­ç½‘ã€‚
* **æ“ä½œé™åˆ¶**ï¼šAWS **ä¸èƒ½ç›´æ¥ä¿®æ”¹**ç°æœ‰å­ç½‘çš„ CIDRã€‚å¿…é¡» **åˆ é™¤é‡å»º**ã€‚
* **æ— ä¸­æ–­ç­–ç•¥**ï¼šå› ä¸ºæ˜¯ ASGï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠæµé‡/å®ä¾‹ç§»åˆ° AZ2ï¼Œæ¸…ç©º AZ1ï¼Œåˆ é™¤ AZ1 å­ç½‘ï¼Œé‡å»ºä¸€ä¸ªæ›´å°çš„ AZ1 å­ç½‘ï¼ˆä¾‹å¦‚ /25ï¼‰ï¼Œä»è€Œé‡Šæ”¾å‡ºä¸€åŠç©ºé—´ã€‚ç„¶åå†å¯¹ AZ2 åšåŒæ ·æ“ä½œã€‚æœ€åç”¨é‡Šæ”¾å‡ºçš„ç©ºé—´åˆ›å»º AZ3 å­ç½‘ã€‚
* **æ•°å­¦è®¡ç®—**ï¼š
* åŸ AZ1: `10.0.0.0/24` -> åˆ æ‰ -> å»ºæ–° AZ1 `10.0.0.0/25` (128 IPs)ã€‚
* å‰©ä½™ `10.0.0.128/25` ç©ºé—²ã€‚
* åŸ AZ2: `10.0.1.0/24` -> åˆ æ‰ -> å»ºæ–° AZ2 `10.0.1.0/25` (128 IPs)ã€‚
* å‰©ä½™ `10.0.1.128/25` ç©ºé—²ã€‚
* ç°åœ¨æœ‰ä¸¤ä¸ª /25 çš„ç©ºé—²å—ï¼Œå¯ä»¥æ‹¿ä¸€ä¸ªç»™ AZ3ã€‚




3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ D**ï¼š
1. ASG ä»…ä½¿ç”¨ AZ2ï¼ˆæ¸…ç©º AZ1ï¼‰ã€‚
2. åˆ é™¤é‡å»º AZ1ï¼ˆç”¨ä¸€åŠç©ºé—´ï¼‰ã€‚
3. ASG ç§»å› AZ1ï¼ˆæ¸…ç©º AZ2ï¼‰ã€‚
4. åˆ é™¤é‡å»º AZ2ï¼ˆç”¨ä¸€åŠç©ºé—´ï¼‰ã€‚
5. åˆ›å»º AZ3ï¼ˆä½¿ç”¨é‡Šæ”¾çš„ç©ºé—´ï¼‰ã€‚
6. ASG è¦†ç›–ä¸‰ä¸ªå­ç½‘ã€‚


* è¿™æ˜¯å”¯ä¸€ç¬¦åˆé€»è¾‘ä¸”æ— ä¸­æ–­ï¼ˆåˆ©ç”¨ ASG è¿ç§»èƒ½åŠ›ï¼‰çš„â€œæ‹†è¿é‡å»ºâ€æ–¹æ¡ˆã€‚




4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **A. é¡ºåºé—®é¢˜**ï¼šA é€‰é¡¹æœ€åè¯´â€œä½¿ç”¨åŸå§‹ AZ1... åˆ›å»º AZ2ï¼Œä½¿ç”¨åŸå§‹ AZ2... åˆ›å»º AZ3â€ï¼Œé€»è¾‘æœ‰ç‚¹ä¹±ï¼Œé€šå¸¸ IP åˆ†é…æ˜¯è¿ç»­çš„ã€‚å…³é”®æ˜¯ D çš„æ­¥éª¤æè¿°æ›´ç¬¦åˆ ASG æ»šåŠ¨è¿ç§»çš„æ“ä½œæµã€‚ä½†æœ¬è´¨ä¸Š A å’Œ D ç›¸ä¼¼ï¼ŒD çš„æè¿°â€œæ›´æ–°å½“å‰ AZ2... åˆ†é…åŸå§‹ AZ1 çš„å¦ä¸€åŠâ€é€»è¾‘ä¸Šä¸å¯¹ï¼ˆAZ2 åº”è¯¥ç”¨è‡ªå·±çš„ç©ºé—´ï¼‰ã€‚
* **ä»”ç»†æ ¡å¯¹ D å’Œ A**ï¼š
* A: Delete AZ1 -> Recreate AZ1 (half). Delete AZ2 -> Recreate AZ2 (using remaining half of AZ1?? No).
* **é‡è¯» D**ï¼šUpdate AZ1 (half). Update AZ2 (assign *other half of original AZ1*? No, cross-subnet move). Create AZ3 (half of original AZ2).
* **å…¶å®è¿™æ˜¯ä¸€ä¸ªé€»è¾‘é¢˜**ï¼šå¦‚æœä¸åŠ  CIDRï¼Œå¿…é¡»åˆ‡åˆ†ã€‚
* é€‰é¡¹ A çš„æè¿°ï¼šä½¿ç”¨åŸå§‹ AZ1 çš„å¦ä¸€åŠå»º AZ2ï¼Ÿè¿™éœ€è¦è·¨ç½‘æ®µï¼Œæœ‰ç‚¹æ€ªã€‚
* **è®©æˆ‘ä»¬çœ‹æœ€åˆç†çš„è·¯å¾„**ï¼šæŠŠ /24 æ‹†æˆä¸¤ä¸ª /25ã€‚
* AZ1 (Old /24) -> Empty -> Delete -> Create AZ1_New (/25). Free: AZ1_Free (/25).
* AZ2 (Old /24) -> Empty -> Delete -> Create AZ2_New (/25). Free: AZ2_Free (/25).
* Now use AZ1_Free or AZ2_Free for AZ3.
* **é€‰é¡¹ D çš„ä¸­æ–‡ç¿»è¯‘å¯èƒ½æœ‰äº›ç»•**ï¼Œä½†æ ¸å¿ƒæ­¥éª¤æ˜¯ï¼šEvacuate -> Resize (Delete/Recreate) -> Evacuate -> Resize -> Create New.
* **å¯¹æ¯” A å’Œ D**ï¼šA è¯´â€œå½“å®ä¾‹å¥åº·æ—¶...åˆ é™¤å½“å‰ AZ2...ä½¿ç”¨åŸå§‹ AZ1 çš„å¦ä¸€åŠåˆ›å»ºæ–°çš„ AZ2â€ã€‚è¿™æ„å‘³ç€æŠŠ AZ2 çš„ç½‘æ®µä» `10.0.1.x` å˜åˆ°äº† `10.0.0.128/25`ã€‚è¿™å®Œå…¨åˆæ³•ã€‚ç„¶åâ€œä½¿ç”¨åŸå§‹ AZ2 çš„ä¸€åŠåˆ›å»º AZ3â€ã€‚è¿™æ„å‘³ç€ AZ3 ç”¨ `10.0.1.0/25`ã€‚è¿™æ ·åŸæ¥çš„ `10.0.1.128/25` å°±ç©ºç€äº†ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§è…¾æŒªæ–¹å¼ã€‚
* D è¯´â€œæ›´æ–° AZ2... åˆ†é…åŸå§‹ AZ1 çš„å¦ä¸€åŠâ€ã€‚è¿™å’Œ A ç±»ä¼¼ã€‚
* **å…³é”®åŒºåˆ«**ï¼šA é€‰é¡¹æœ€åä¸€æ­¥â€œé’ˆå¯¹æ‰€æœ‰ä¸‰ä¸ªæ–°å­ç½‘â€ã€‚D é€‰é¡¹ä¹Ÿæ˜¯ã€‚
* **é€šå¸¸è¿™ç±»é¢˜çš„å„ç§ç‰ˆæœ¬ä¸­ï¼ŒA æ˜¯æ­£ç¡®ç­”æ¡ˆ**ã€‚å› ä¸ºå®ƒæ­£ç¡®æè¿°äº†â€œæ»šåŠ¨æ›¿æ¢â€çš„è¿‡ç¨‹ï¼šå…ˆæå®š AZ1ï¼ŒæŠŠå®ä¾‹ç§»å›æ¥ï¼Œå†æå®š AZ2ï¼ˆå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­é‡æ–°è§„åˆ’ IP å½’å±ï¼ŒæŠŠ AZ2 æ¬åˆ° AZ1 è…¾å‡ºçš„ç©ºé—´é‡Œï¼Œä»è€ŒæŠŠåŸæ¥çš„ AZ2 æ•´ä¸ªç©ºå‡ºæ¥æˆ–è€…éƒ¨åˆ†ç©ºå‡ºæ¥ç»™ AZ3ï¼‰ã€‚
* **é€»è¾‘å¤ç›˜ A**ï¼š
1. ASG åªç”¨ AZ2ã€‚
2. AZ1 é‡å»ºä¸º /25 (0.0/25)ã€‚
3. ASG ç”¨ AZ1ã€‚
4. åˆ  AZ2ã€‚
5. å»ºæ–° AZ2 ç”¨ 0.128/25 (åŸ AZ1 çš„å‰©é¥­)ã€‚
6. å»ºæ–° AZ3 ç”¨ 1.0/25 (åŸ AZ2 çš„ä¸€åŠ)ã€‚
7. Result: AZ1, AZ2, AZ3 éƒ½æœ‰äº†ã€‚


* **è¿™é€»è¾‘é€šé¡º**ã€‚






5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **Subnet Resizing**ï¼šImpossible directly. Must Delete & Recreate.
* **ASG High Availability**ï¼šUse ASG to migrate instances between AZs during maintenance.



---

ğŸ“ **294/529. å¼ºåˆ¶ CloudFormation æ ‡ç­¾ (Tag Options & Service Catalog)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **å·¥å…·**ï¼šCloudFormation (CFN) éƒ¨ç½²æ‰€æœ‰èµ„æºã€‚
* **éœ€æ±‚**ï¼š**å¼ºåˆ¶ (Enforce)** é¢„å®šä¹‰çš„ Project æ ‡ç­¾å€¼ï¼›**æœ€å°‘åŠªåŠ› (Least Effort)**ã€‚
* **ç—›ç‚¹**ï¼šå½“å‰ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ï¼Œå€¼ä¸è§„èŒƒï¼ˆå¤§å°å†™ã€æ‹¼å†™é”™è¯¯ï¼‰ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **SCP/IAM é™åˆ¶**ï¼šSCP å¯ä»¥å¼ºåˆ¶â€œå¿…é¡»æœ‰æ ‡ç­¾â€ï¼Œä½†å¾ˆéš¾æ ¡éªŒâ€œæ ‡ç­¾å€¼å¿…é¡»åœ¨åˆ—è¡¨ A, B, C ä¸­â€ï¼ˆè™½ç„¶ IAM Policy Condition æ”¯æŒæšä¸¾ï¼Œä½†ç»´æŠ¤éº»çƒ¦ï¼Œä¸”ç”¨æˆ·ä½“éªŒå·®â€”â€”éƒ¨ç½²å¤±è´¥æ‰æŠ¥é”™ï¼‰ã€‚
* **Service Catalog**ï¼šè¿™æ˜¯ä¸“é—¨ç®¡ç†â€œIT äº§å“ç›®å½•â€çš„æœåŠ¡ã€‚å®ƒæœ‰ä¸€ä¸ªåŠŸèƒ½å« **TagOptions Library**ã€‚
* **TagOptions**ï¼šä½ å¯ä»¥å®šä¹‰ä¸€ç»„å…è®¸çš„ Key-Value å¯¹ï¼ˆä¾‹å¦‚ Project: A, B, Cï¼‰ã€‚å½“ç”¨æˆ·é€šè¿‡ Service Catalog å¯åŠ¨ CFN æ¨¡æ¿ï¼ˆäº§å“ï¼‰æ—¶ï¼ŒUI ä¼šå¼ºåˆ¶ç”¨æˆ·ä»ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ä¸€ä¸ªæœ‰æ•ˆå€¼ã€‚è¿™æ—¢ä¿è¯äº†åˆè§„ï¼Œåˆæä¾›äº†è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼ˆä¸‹æ‹‰é€‰ï¼Œä¸ä¼šé”™ï¼‰ã€‚
* **æœ€å°‘åŠªåŠ›**ï¼šé…ç½®ä¸€æ¬¡ Portfolioï¼Œå…±äº«ç»™ Organizationï¼Œå…¨å‘˜ç”Ÿæ•ˆã€‚


3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ D**ï¼š
* **Service Catalog**ï¼šå°† CFN åŒ…è£…ä¸º Productã€‚
* **TagOptions Library**ï¼šæ§åˆ¶å…è®¸çš„æ ‡ç­¾å€¼ï¼ˆä¸‹æ‹‰èœå•ï¼‰ã€‚
* **å…±äº«**ï¼šä¸ Org å…±äº«ï¼Œå…¨å…¬å¸é€šç”¨ã€‚




4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **A/B. SCP**ï¼šSCP ä¸»è¦æ˜¯â€œæ‹’ç»â€æœºåˆ¶ã€‚å¦‚æœç”¨æˆ·è¾“é”™å€¼ï¼Œéƒ¨ç½²ç›´æ¥æŠ¥é”™å¤±è´¥ï¼Œä½“éªŒå·®ï¼Œä¸” SCP ç»´æŠ¤é•¿åˆ—è¡¨çš„å€¼æ¯”è¾ƒç¹çï¼ˆç­–ç•¥æ–‡æ¡£å¤§å°é™åˆ¶ï¼‰ã€‚
* **C. IAM Policy**ï¼šåŒä¸Šï¼Œç®¡ç†å¼€é”€å¤§ï¼Œä¸”å±äºâ€œäº‹åæŠ¥é”™â€ã€‚


5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **Service Catalog TagOptions** = Enforce predefined tag values with UI support (Dropdowns).



---

ğŸ“ **295/529. EC2 ASG æˆæœ¬ä¼˜åŒ– (Mixed Instances Policy)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **ç°çŠ¶**ï¼šASG åªæœ‰ä¸€ç§å®ä¾‹ç±»å‹ï¼ŒCPU/å†…å­˜åˆ©ç”¨ç‡ä½ï¼ˆ**Underutilized**ï¼‰ã€‚
* **ç›®æ ‡**ï¼š**æ°¸ä¹…é™ä½æˆæœ¬ (Permanently reduce costs)** + **æé«˜åˆ©ç”¨ç‡**ã€‚
* **çº¦æŸ**ï¼š**æœ€å°‘é…ç½®æ›´æ”¹ (Least configuration changes)**ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **åˆ©ç”¨ç‡ä½**ï¼šè¯´æ˜å®ä¾‹é€‰å¤§äº†ã€‚åº”è¯¥é€‰æ›´å°çš„å®ä¾‹ï¼ˆRight Sizingï¼‰ã€‚
* **ASG é…ç½®**ï¼šç°ä»£ ASG ä½¿ç”¨ **Launch Template**ã€‚è¦æ›´æ”¹å®ä¾‹ç±»å‹ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ–°ç‰ˆæœ¬çš„ Launch Templateï¼Œå°†å®ä¾‹è§„æ ¼æ”¹å°ï¼ˆä¾‹å¦‚ä» c5.large æ”¹ä¸º c5.mediumï¼‰ã€‚
* **æµç¨‹**ï¼š
1. æ ¹æ®åˆ©ç”¨ç‡æ•°æ®é€‰ä¸€ä¸ªåˆé€‚çš„ï¼ˆè¾ƒå°çš„ï¼‰å®ä¾‹ç±»å‹ã€‚
2. æ›´æ–° Launch Templateã€‚
3. ASG æ»šåŠ¨æ›´æ–°ã€‚




3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ B**ï¼š
* **é€‰æ‹©åˆé€‚ç±»å‹**ï¼šåŸºäºåˆ©ç”¨ç‡ï¼ˆRight Sizingï¼‰ã€‚
* **ä¿®æ”¹ ASG é…ç½®**ï¼šæ·»åŠ æ–°ç±»å‹ï¼Œåˆ é™¤æ—§ç±»å‹ï¼ˆæˆ–è€…ç›´æ¥æ›¿æ¢ï¼‰ã€‚è¿™é€šè¿‡æ›´æ–° Launch Template å¾ˆå®¹æ˜“å®ç°ã€‚
* *æ³¨æ„*ï¼šé€‰é¡¹ C å’Œ B éå¸¸åƒã€‚C è¯´â€œæŒ‡å®š CPU å’Œå†…å­˜è¦æ±‚ï¼ˆAttribute-based instance type selectionï¼‰â€ã€‚è¿™ä¹Ÿæ˜¯ä¸€ç§æ–¹æ³•ï¼Œä½† B ç›´æ¥â€œé€‰æ‹©ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å®ä¾‹ç±»å‹â€é€šå¸¸æ˜¯æ›´ç›´æ¥çš„æ“ä½œã€‚ç„¶è€Œï¼Œ**AWS æ¨èçš„æœ€ä½³å®è·µæ˜¯ Attribute-based selection (C)** å—ï¼Ÿä¸ä¸€å®šï¼Œå¯¹äºâ€œæœ€å°‘æ›´æ”¹â€ï¼Œç›´æ¥æŒ‡å®šä¸€ä¸ªæ–°çš„å®ä¾‹ç±»å‹ï¼ˆBï¼‰å¾€å¾€æœ€ç®€å•ç›´è§‚ã€‚
* **å†ç»†çœ‹ B å’Œ C**ï¼š
* B: Explicitly select instance type (e.g., m5.medium).
* C: Specify requirements (e.g., 2 vCPU, 4GB RAM). ASG will pick types.
* é¢˜ç›®é—®çš„æ˜¯â€œæœ€å°‘é…ç½®æ›´æ”¹â€ã€‚ç›´æ¥æŠŠ `InstanceType: m5.large` æ”¹ä¸º `m5.medium` æ˜¯æå°çš„æ”¹åŠ¨ã€‚è€Œ C éœ€è¦é…ç½®ä¸€å¥—å±æ€§è§„åˆ™ã€‚
* ä½†å®é™…ä¸Šï¼Œé¢˜ç›®æœ‰ä¸ªé™·é˜±ï¼šâ€œåˆ—å‡ºç›¸ä¼¼å±æ€§...ä¿®æ”¹ä¸ºå¤šç§ç±»å‹â€ï¼ˆA é€‰é¡¹ Mixed Instances Policyï¼‰ã€‚å¦‚æœç›®çš„æ˜¯æé«˜åˆ©ç”¨ç‡ï¼Œå•çº¯æ¢ä¸€ä¸ªå°å®ä¾‹ï¼ˆBï¼‰æ˜¯æœ€ç›´æ¥çš„ã€‚
* **æ ‡å‡†ç­”æ¡ˆå€¾å‘**ï¼šåœ¨ SAP é¢˜åº“ä¸­ï¼Œé’ˆå¯¹â€œUnderutilizedâ€å’Œâ€œReduce Costâ€ï¼Œé€šå¸¸æ˜¯ **Compute Optimizer** å»ºè®® + **Right Sizing**ã€‚é€‰é¡¹ B æè¿°äº† Right Sizing çš„è¿‡ç¨‹ã€‚






4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **A. Mixed Instances**ï¼šè™½ç„¶å¥½ï¼Œä½†å¦‚æœä¸æ¢æˆå°å®ä¾‹ï¼Œåªæ˜¯æ··åˆå¤šç§åŒçº§å®ä¾‹ï¼Œåˆ©ç”¨ç‡è¿˜æ˜¯ä½çš„ã€‚
* **D. Script**ï¼šå†™è„šæœ¬è°ƒç”¨ API å¤ªå¤æ‚ï¼Œä¸æ˜¯â€œæœ€å°‘é…ç½®æ›´æ”¹â€ã€‚


5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **Underutilized** -> **Right Sizing** (Change Instance Type to smaller one).



---

ğŸ“ **296/529. å®¹å™¨åŒ–åº”ç”¨ DR (RPO 2h/RTO 4h) - æˆæœ¬æ•ˆç›Š**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **RPO / RTO**ï¼š2å°æ—¶ / 4å°æ—¶ã€‚è¿™å±äº**å®½æ¾**çš„ DR è¦æ±‚ï¼ˆPilot Light æˆ– Warm Standbyï¼Œç”šè‡³ Backup & Restoreï¼‰ã€‚
* **ç»„ä»¶**ï¼šECS, Aurora, DynamoDBã€‚
* **ç›®æ ‡**ï¼š**æœ€å…·æˆæœ¬æ•ˆç›Š (Most Cost-Effective)**ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **æ’é™¤ Global DB**ï¼šé€‰é¡¹ A å’Œ D ä½¿ç”¨äº† Aurora Global Database å’Œ DynamoDB Global Tablesã€‚è¿™æ˜¯ RPO < 1s, RTO < 1min çš„**é¡¶çº§**é…ç½®ï¼Œä»·æ ¼æ˜‚è´µã€‚å¯¹äº 2h/4h çš„è¦æ±‚æ¥è¯´ï¼Œè¿™æ˜¯ä¸¥é‡çš„**è¿‡åº¦è®¾è®¡ (Over-provisioning)**ã€‚
* **æ’é™¤ Backup & Restore**ï¼šé€‰é¡¹ C ä½¿ç”¨ AWS Backupã€‚è™½ç„¶æœ€ä¾¿å®œï¼Œä½†æ¢å¤ Aurora å’Œ DynamoDB çš„å¤‡ä»½ï¼ˆå°¤å…¶æ˜¯å¦‚æœæ•°æ®é‡å¤§ï¼‰å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œå­˜åœ¨è¶…è¿‡ 4 å°æ—¶ RTO çš„é£é™©ã€‚ä¸” C é€‰é¡¹æ²¡æœ‰æåˆ°æ•°æ®çš„**æŒç»­å¤åˆ¶**ï¼Œåªè¯´â€œåˆ›å»ºå¤‡ä»½â€ï¼Œå¦‚æœæ¯å¤©å¤‡ä¸€æ¬¡ï¼ŒRPO å¯èƒ½è¾¾ä¸åˆ° 2 å°æ—¶ã€‚
* **æŠ˜ä¸­æ–¹æ¡ˆ (Pilot Light)**ï¼šé€‰é¡¹ B ä½¿ç”¨ DMS å’Œ DynamoDB Streams è¿›è¡Œå¼‚æ­¥å¤åˆ¶ã€‚
* è¿™æœ‰ç‚¹å¤æ‚ä¸”ç»´æŠ¤æˆæœ¬é«˜ã€‚


* **å†çœ‹é€‰é¡¹ C**ï¼š**AWS Backup** æ”¯æŒè·¨åŒºåŸŸå¤åˆ¶å¤‡ä»½ã€‚å¦‚æœé…ç½®æ¯å°æ—¶å¤‡ä»½ä¸€æ¬¡ï¼ˆRPO < 2hï¼‰ï¼Œä¸”æ•°æ®é‡ä¸æ˜¯æµ·é‡ï¼Œæ¢å¤æ—¶é—´åœ¨ 4h å†…æ˜¯æœ‰å¯èƒ½çš„ã€‚å¯¹äºâ€œæœ€å…·æˆæœ¬æ•ˆç›Šâ€ï¼Œå¤‡ä»½æ¢å¤æ–¹æ¡ˆæ°¸è¿œæ˜¯ç¬¬ä¸€é€‰æ‹©ï¼Œé™¤é RTO/RPO æä¸¥ã€‚
* **åè½¬**ï¼šè®©æˆ‘ä»¬é‡æ–°å®¡è§† A/D çš„â€œæ˜‚è´µâ€ä¸ B/C çš„â€œå¤æ‚/é£é™©â€ã€‚
* A/D: Global DB è´µï¼Œä½† RTO/RPO ç»å¯¹æ»¡è¶³ã€‚
* B: è‡ªå»ºå¤åˆ¶ï¼ˆLambda/DMSï¼‰ï¼Œç»´æŠ¤åœ°ç‹±ã€‚
* C: AWS Backup è·¨åŒºåŸŸå¤åˆ¶ã€‚è¿™æ˜¯æœ€ä¾¿å®œçš„ã€‚é—®é¢˜æ˜¯ 4 å°æ—¶ RTO èƒ½å¦ä¿è¯ï¼Ÿé€šå¸¸å¯¹äºä¸­å¤§å‹æ•°æ®åº“ï¼ŒRestore å¾ˆæ…¢ã€‚
* **ç„¶è€Œ**ï¼Œé¢˜ç›®ä¸­æœ‰ä¸€ä¸ªéšå«çº¿ç´¢ï¼šâ€œCodePipeline è‡ªåŠ¨åŒ–éƒ¨ç½²â€ã€‚
* **æ­£ç¡®ç­”æ¡ˆé€šå¸¸æ˜¯ C**ï¼ˆå¦‚æœæ•°æ®é‡å…è®¸ï¼‰æˆ– **D**ï¼ˆå¦‚æœå¿…é¡»ä¸¥æ ¼ä¿è¯ï¼‰ã€‚ä½†åœ¨ SAP è€ƒè¯•ä¸­ï¼Œé’ˆå¯¹ 2h/4h è¿™ç§â€œéå®æ—¶â€éœ€æ±‚ï¼Œ**AWS Backup (C)** å¾€å¾€è¢«é€‰ä¸ºâ€œæœ€å…·æˆæœ¬æ•ˆç›Šâ€çš„ç­”æ¡ˆï¼Œå› ä¸ºå®ƒä¸éœ€è¦åœ¨è¯¥åŒºåŸŸè¿è¡Œä»»ä½•æ•°æ®åº“è®¡ç®—èµ„æºï¼ˆGlobal DB çš„ä»é›†ç¾¤ä¹Ÿæ˜¯è¦ä»˜è´¹çš„ï¼‰ã€‚
* **ä¿®æ­£**ï¼šè®©æˆ‘ä»¬çœ‹ A/D çš„åŒºåˆ«ã€‚A ç”¨ CloudFront è·¯ç”±ï¼ŒD ç”¨ Route 53ã€‚åç«¯éƒ½æ˜¯ Global DBã€‚
* **å†çœ‹ B**ï¼šDMS + Lambda è‡ªå»ºå¤åˆ¶ã€‚è¿™åœ¨å·¥ç¨‹ä¸Šæ˜¯ä¸æ¨èçš„ï¼ˆUnreliableï¼‰ã€‚
* **æœ€ç»ˆåˆ¤å®š**ï¼šåœ¨ 2h/4h çš„å®½æ¾æ¡ä»¶ä¸‹ï¼Œ**é€‰é¡¹ C (Backup & Restore)** æ˜¯å”¯ä¸€ç¬¦åˆâ€œæˆæœ¬æ•ˆç›Šâ€é€»è¾‘çš„ã€‚Global DB (A/D) æ˜¯ä¸ºäº†ç§’çº§ RPO è®¾è®¡çš„ï¼Œé’±èŠ±åœ¨åˆ€åˆƒä¸Šï¼ŒèŠ±åœ¨è¿™é‡Œæ˜¯æµªè´¹ã€‚




3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ C**ï¼š
* **AWS Backup**ï¼šé›†ä¸­ç®¡ç†å¤‡ä»½ + è·¨åŒºåŸŸå¤åˆ¶ (Cross-Region Copy)ã€‚
* **RPO**ï¼šè®¾ç½®æ¯ 1 å°æ—¶å¤‡ä»½ä¸€æ¬¡ï¼Œæ»¡è¶³ < 2hã€‚
* **RTO**ï¼š4 å°æ—¶è¶³å¤Ÿå¤§å¤šæ•°æ¢å¤æ“ä½œï¼ˆé™¤éæ•°æ® PB çº§ï¼‰ã€‚
* **æˆæœ¬**ï¼šå¹³æ—¶åªä»˜å­˜å‚¨è´¹ï¼ˆS3 IA çº§åˆ«ï¼‰ï¼Œä¸ä»˜è®¡ç®—è´¹ã€‚æœ€çœé’±ã€‚





---

ğŸ“ **297/529. CloudFront ç¼“å­˜å‘½ä¸­ç‡ä½ (Query String Normalization)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **é—®é¢˜**ï¼šç¼“å­˜å‘½ä¸­ç‡ä¸‹é™ã€‚
* **åŸå› **ï¼šæŸ¥è¯¢å­—ç¬¦ä¸² (Query String) é¡ºåºä¸ä¸€è‡´ã€å¤§å°å†™ä¸ä¸€è‡´ï¼ˆä¾‹å¦‚ `?A=1&b=2` vs `?b=2&a=1`ï¼‰ã€‚
* **CloudFront è¡Œä¸º**ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒCloudFront è®¤ä¸ºä¸åŒçš„ Query String æ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œä¼šå›æºã€‚
* **ç›®æ ‡**ï¼š**å°½å¯èƒ½å¿«**åœ°æé«˜å‘½ä¸­ç‡ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **æ ‡å‡†åŒ– (Normalization)**ï¼šå¿…é¡»åœ¨ CloudFront æ£€æŸ¥ç¼“å­˜**ä¹‹å‰**ï¼ŒæŠŠè¯·æ±‚çš„ URL ç»Ÿä¸€æˆæ ‡å‡†æ ¼å¼ï¼ˆä¾‹å¦‚ï¼šå‚æ•°æŒ‰å­—æ¯æ’åºï¼Œå…¨éƒ¨è½¬å°å†™ï¼‰ã€‚
* **å·¥å…·**ï¼š**Lambda@Edge** æˆ– **CloudFront Functions**ã€‚
* **è§¦å‘ç‚¹**ï¼šå¿…é¡»åœ¨ **Viewer Request**ï¼ˆè§‚ä¼—è¯·æ±‚ï¼‰é˜¶æ®µå¤„ç†ï¼Œè¿™æ · CloudFront åœ¨æŸ¥ç¼“å­˜æ—¶çœ‹åˆ°çš„å°±æ˜¯æ ‡å‡†åŒ–åçš„ Keyã€‚


3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ A**ï¼š
* **Lambda@Edge**ï¼šç¼–å†™ä»£ç é€»è¾‘ã€‚
* **é€»è¾‘**ï¼šSort parameters & Lowercaseã€‚
* **Trigger**ï¼š**Viewer Request**ã€‚
* è¿™ä¼šè®© `?A=1&b=2` å’Œ `?b=2&a=1` éƒ½å˜æˆ `?a=1&b=2`ï¼Œä»è€Œå‘½ä¸­åŒä¸€ä¸ªç¼“å­˜å¯¹è±¡ã€‚




4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **B. ç¦ç”¨ç¼“å­˜**ï¼šè¿™æ˜¯è§£å†³â€œä¸æƒ³ç¼“å­˜â€çš„é—®é¢˜ï¼Œä¸æ˜¯æé«˜å‘½ä¸­ç‡ã€‚
* **C. è´Ÿè½½å‡è¡¡å™¨åå¤„ç†**ï¼šå¤ªæ™šäº†ï¼è¯·æ±‚å·²ç»ç©¿é€ CloudFront å›æºäº†ï¼Œç¼“å­˜å·²ç» Miss äº†ã€‚
* **D. å¤§å°å†™ä¸æ•æ„Ÿè®¾ç½®**ï¼šCloudFront **æ²¡æœ‰**è¿™ä¸ªä¸€é”®å¼€å…³ã€‚å¿…é¡»é€šè¿‡è®¡ç®—ï¼ˆFunctionï¼‰æ¥å®ç°ã€‚


5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **Cache Hit Ratio Optimization** -> Normalize Query Strings using **CloudFront Functions** (lighter/cheaper) or **Lambda@Edge** at **Viewer Request**.



---

ğŸ“ **298/529. Aurora è·¨åŒºåŸŸ DR (RPO 1h) - æœ€ä½æˆæœ¬**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **æº**ï¼šAurora MySQL Clusterã€‚
* **RPO**ï¼š**1 å°æ—¶**ã€‚
* **ç›®æ ‡**ï¼šè·¨åŒºåŸŸ DRã€‚
* **çº¦æŸ**ï¼š**æœ€ä½æˆæœ¬ (Lowest Cost)**ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **Global Database (A)**ï¼šRPO < 1sã€‚æ€§èƒ½æœ€å¥½ï¼Œä½†æœ‰è®¡ç®—èŠ‚ç‚¹æˆæœ¬ï¼ˆReplication instanceï¼‰å’Œæµé‡è´¹ã€‚å¯¹äº 1 å°æ—¶ RPO æ¥è¯´æœ‰ç‚¹å¥¢ä¾ˆã€‚
* **Backtrack (B)**ï¼šè¿™æ˜¯å›æ»šç”¨çš„ï¼Œä¸æ˜¯è·¨åŒºåŸŸ DRã€‚
* **DMS (C)**ï¼šéœ€è¦è¿è¡Œ DMS å®ä¾‹ï¼ŒæŒç»­ä»˜è´¹ï¼Œå¤æ‚ã€‚
* **Snapshot Copy (D)**ï¼š
* Aurora è‡ªåŠ¨å¤‡ä»½ -> è·¨åŒºåŸŸå¤åˆ¶å¿«ç…§ã€‚
* ä¸éœ€è¦åœ¨ç›®æ ‡åŒºåŸŸè¿è¡Œä»»ä½•æ•°æ®åº“å®ä¾‹ï¼ˆç›´åˆ°ä½ éœ€è¦æ¢å¤ï¼‰ã€‚
* åªæ”¯ä»˜ S3 å­˜å‚¨è´¹å’Œè·¨åŒºåŸŸä¼ è¾“è´¹ã€‚
* 1 å°æ—¶ RPO å¯ä»¥é€šè¿‡æ¯å°æ—¶è§¦å‘ä¸€æ¬¡å¿«ç…§å¤åˆ¶æ¥å®ç°ï¼ˆæˆ–è€…åˆ©ç”¨ AWS Backup è‡ªåŠ¨å¤åˆ¶ï¼‰ã€‚


* **å¯¹æ¯” A å’Œ D**ï¼šA éœ€è¦åœ¨ç›®æ ‡åŒºåŸŸä¸€ç›´å¼€ç€ Aurora å®ä¾‹ï¼ˆå³ä½¿æ˜¯ Headless ä¹Ÿè¦ä»˜å­˜å‚¨å¤åˆ¶çš„åŸºç¡€è®¾æ–½è´¹ï¼‰ã€‚D æ˜¯çº¯å†·å¤‡ï¼ˆCold DRï¼‰ï¼Œå¹³æ—¶èŠ±è´¹å‡ ä¹ä¸ºé›¶ã€‚**1 å°æ—¶ RPO å…è®¸å†·å¤‡**ã€‚


3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ D**ï¼š
* é…ç½®å¿«ç…§å¤åˆ¶åˆ° DR åŒºåŸŸã€‚
* æˆæœ¬æœ€ä½ï¼ˆæ— è®¡ç®—èµ„æºï¼‰ã€‚
* æ»¡è¶³ RPO 1hã€‚




4. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **RPO 1h + Low Cost** -> Snapshot Copy (Cold DR).
* **RPO < 1s** -> Global Database (Hot/Warm DR).



---

ğŸ“ **299/529. å•ä½“åº”ç”¨ç°ä»£åŒ– (Rehost/Replatform)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **ç°çŠ¶**ï¼šå•ä½“ EC2ï¼ˆæ— çŠ¶æ€ Appï¼‰+ å•ä½“ EC2ï¼ˆMySQLï¼‰ã€‚
* **é—®é¢˜**ï¼šCPU 100% æŒ‚æœºï¼›æ‰‹åŠ¨è¡¥ä¸å¯¼è‡´åœæœºã€‚
* **ç›®æ ‡**ï¼š**é«˜å¯ç”¨ (HA)**ï¼Œ**æœ€å°‘å¼€å‘å·¥ä½œé‡ (Least Development Effort)**ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **App å±‚**ï¼šæ—¢ç„¶æ˜¯æ— çŠ¶æ€ï¼ˆStatelessï¼‰ï¼Œç›´æ¥ç”¨ **Auto Scaling Group (ASG)** + **ALB** å°±å¯ä»¥å®ç°æ¨ªå‘æ‰©å±•å’Œ HAã€‚
* **DB å±‚**ï¼šMySQL EC2 -> æ‰˜ç®¡æ•°æ®åº“ **Amazon Aurora** æˆ– **RDS**ã€‚Aurora å…¼å®¹ MySQLï¼Œæ— éœ€æ”¹ä»£ç ï¼ˆæœ€å°‘å¼€å‘å·¥ä½œé‡ï¼‰ã€‚
* **è¿ç»´**ï¼šä½¿ç”¨ Systems Manager (SSM) è‡ªåŠ¨åŒ–è¡¥ä¸æˆ–è®©æ‰˜ç®¡æœåŠ¡å¤„ç†ã€‚


3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ D**ï¼š
* **App**ï¼šAMI -> Launch Template -> ASG + ALBã€‚è§£å†³äº†å•ç‚¹æ•…éšœå’Œ CPU ç“¶é¢ˆï¼ˆè‡ªåŠ¨æ‰©å±•ï¼‰ã€‚
* **DB**ï¼šè¿ç§»åˆ° **Aurora MySQL**ã€‚å®Œå…¨å…¼å®¹ï¼Œæ‰˜ç®¡æœåŠ¡è§£å†³è¡¥ä¸å’Œ HA é—®é¢˜ã€‚
* **æœ€å°‘å¼€å‘**ï¼šåŸºæœ¬å°±æ˜¯â€œæ¬å®¶â€ï¼Œä¸éœ€è¦é‡å†™ä»£ç ï¼ˆä¸åƒ A é€‰é¡¹æ”¹ Lambda æˆ– C é€‰é¡¹å®¹å™¨åŒ–éœ€è¦é€‚é…ï¼‰ã€‚




4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **A. Lambda**ï¼šéœ€è¦é‡å†™ä»£ç ï¼ˆRefactorï¼‰ï¼Œå¼€å‘å·¥ä½œé‡å¤§ã€‚
* **B. DynamoDB**ï¼šNoSQL æ•°æ®åº“ï¼Œéœ€è¦é‡å†™æ•°æ®å±‚ä»£ç ï¼Œæå¤§å·¥ä½œé‡ã€‚
* **C. Neptune**ï¼šå›¾æ•°æ®åº“ï¼Œå®Œå…¨ä¸å¯¹ç‰ˆã€‚


5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **Least Effort Migration** -> **Replatform** (EC2 -> EC2 ASG; MySQL -> RDS/Aurora).



---

ğŸ“ **300/529. å‘ç°ä½å»¶è¿Ÿä¾èµ–é¡¹ (Athena Analysis)**

1. **ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **åœºæ™¯**ï¼šè¿ç§»è¯„ä¼°ã€‚
* **æœªçŸ¥**ï¼šä¸çŸ¥é“æ‰€æœ‰ä¾èµ–é¡¹ã€‚
* **å·²çŸ¥**ï¼šå…³é”®ä¾èµ–ä½¿ç”¨ **ç«¯å£ 1000** çš„è‡ªå®šä¹‰åè®®ã€‚
* **å·¥å…·**ï¼šå·²å®‰è£… **AWS Application Discovery Agent**ï¼Œæ”¶é›†äº†å‡ ä¸ªæœˆæ•°æ®ã€‚
* **ç›®æ ‡**ï¼šè¯†åˆ«ä½¿ç”¨ç«¯å£ 1000 é€šä¿¡çš„æœåŠ¡å™¨ï¼Œæ‰“æˆä¸€ä¸ªç»„ä¸€èµ·è¿ç§»ã€‚


2. **âš¡ ç§’æ€æ€è·¯**
* **æ•°æ®æº**ï¼šDiscovery Agent æ”¶é›†çš„æ•°æ®å¯ä»¥å¯¼å‡ºåˆ° **Amazon Athena** è¿›è¡Œ SQL æŸ¥è¯¢ã€‚
* **åˆ†ææ–¹æ³•**ï¼šæˆ‘ä»¬éœ€è¦åˆ†æâ€œç½‘ç»œè¿æ¥â€æ—¥å¿—ï¼Œæ‰¾å‡º `DestinationPort = 1000` çš„è®°å½•ï¼Œå¹¶å…³è”æº IP å’Œç›®çš„ IPã€‚
* **æµç¨‹**ï¼šMigration Hub -> Athena Query -> Create Groupã€‚


3. **âœ… æ­£ç¡®é€‰é¡¹è§£æ**
* **é€‰é¡¹ A**ï¼š
* åœ¨ Migration Hub å¯è§†åŒ–ã€‚
* **Amazon Athena æ•°æ®æ¢ç´¢**ï¼šDiscovery Service åŸç”Ÿæ”¯æŒå°†æ•°æ®å¯¼å‡ºåˆ° Athenaã€‚
* **æŸ¥è¯¢**ï¼šå†™ SQL æŸ¥ç«¯å£ 1000 çš„é€šä¿¡å¯¹ã€‚
* **åˆ†ç»„**ï¼šæ ¹æ®ç»“æœåˆ›å»º Move Groupã€‚è¿™æ˜¯æ ‡å‡†çš„é«˜çº§åˆ†ææµç¨‹ã€‚




4. **âŒ é”™è¯¯é€‰é¡¹æ’æŸ¥**
* **B. Test Instances**ï¼šè¿™æ˜¯è¿ç§»åçš„éªŒè¯ï¼Œä¸æ˜¯å‘ç°é˜¶æ®µçš„å·¥å…·ã€‚
* **C. Network Access Analyzer**ï¼šè¿™æ˜¯ VPC å†…éƒ¨åˆ†æç½‘ç»œå¯è¾¾æ€§çš„å·¥å…·ï¼Œä¸æ˜¯ç”¨æ¥åˆ†ææœ¬åœ°æœåŠ¡å™¨ Agent æ•°æ®çš„ã€‚
* **D. CloudWatch Logs**ï¼šè™½ç„¶ Agent å¯ä»¥å‘æ—¥å¿—ï¼Œä½† Migration Hub + Athena æ˜¯ Discovery Service æ¨èçš„æ ‡å‡†åˆ†æè·¯å¾„ï¼Œä¸éœ€è¦æ‰‹åŠ¨å¯¼ CloudWatch å†å»æŸ¥ï¼ˆA é€‰é¡¹æè¿°çš„æ˜¯é›†æˆå¥½çš„åŠŸèƒ½ï¼‰ã€‚


5. **ğŸ“š æ ¸å¿ƒè€ƒç‚¹**
* **Application Discovery Service** -> **Data Exploration in Athena** (ç”¨äºå¤æ‚ä¾èµ–åˆ†æ)ã€‚



---
