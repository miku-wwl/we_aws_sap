# AWS KMS多区域密钥(MRK)与单区域CMK价格对比分析

**核心结论：是的，MRK在n个区域部署的总价格约为单区域CMK的n倍**，但有细微差异需注意。

## 一、单区域CMK价格结构

**每个单区域CMK固定收费**：
- **$1/月**（中国区约¥6.88/月）
- 与密钥类型无关（对称/非对称/HMAC等）
- 无论是否使用，只要存在就按月计费
- 适用于用户托管CMK和BYOK，**AWS托管CMK免费**（如aws/s3）

## 二、多区域密钥(MRK)价格结构

**MRK采用"多副本计费"模式**，总费用取决于区域数量：
- **主密钥(primary)：$1/月**（在创建区域）
- **每个副本(replica)：$1/月**（在每个目标区域）
- **总费用 = 主密钥费用 + 副本数量 × 副本费用**（即：区域数 × $1/月）

**关键说明**：
- MRK在各区域有独立的CMK实例，但共享相同密钥ID和材料，可跨区无缝解密
- 每个区域的MRK实例被视为独立CMK，单独计费
- 即使MRK在n个区域部署，总费用**约等于n个单区域CMK的价格总和**（即n倍）

## 三、价格对比表

| 对比项 | 单区域CMK | 多区域密钥(MRK) |
|--------|------------|------------------|
| **基础费用** | $1/月/CMK | 主密钥$1/月 + 每个副本$1/月 |
| **2区域部署** | 2 × $1/月 = **$2/月**<br>(2个独立CMK) | 1主 + 1副本 = **$2/月**<br>(1个逻辑密钥，2个物理实例) |
| **5区域部署** | 5 × $1/月 = **$5/月** | 1主 + 4副本 = **$5/月** |
| **n区域部署** | n × $1/月 = **$n/月** | 1主 + (n-1)副本 = **$n/月** |
| **适用场景** | 单一区域应用<br>无需跨区解密 | 跨区域DR<br>全局表<br>EBS快照跨区复制 |
| **价格关系** | 基准价格 | **约等于单区域CMK价格的n倍** |

## 四、关键差异与注意事项

1. **MRK的"隐性成本"**：
   - 虽然月费相同，但MRK的**管理成本更高**（需跨区维护）
   - 密钥轮换会触发所有区域同步更新，增加API调用费用

2. **与单区域CMK的本质区别**：
   - 单区域CMK：各区域独立密钥，**无法跨区解密**，需重新加密
   - MRK：同一密钥ID，**可跨区直接解密**，无需重新加密

3. **特殊情况**：
   - **AWS托管CMK**（如aws/s3）**免费**，与区域无关，是"最经济选择"
   - 若单区域CMK需在多区域使用，需**手动在各区域创建独立CMK**，总费用相同，但失去跨区解密能力

## 五、总结

**MRK在n个区域的总价格确实约等于单区域CMK的n倍**，这是因为：
- 单区域CMK：每个区域独立实例，每个$1/月
- MRK：1个主实例 + (n-1)个副本实例，每个$1/月

**价格计算公式**：
- 单区域CMK（n区域）：$1 × n/月
- MRK（n区域）：$1(主) + $1 × (n-1)(副本) = $n/月

**选择建议**：
- 仅需单区域使用 → 单区域CMK（简单、便宜）
- 需跨区域DR/全局应用 → MRK（多付约(n-1)倍费用，但获得无缝跨区解密能力）
- S3默认加密等场景 → AWS托管CMK（免费，最佳选择）