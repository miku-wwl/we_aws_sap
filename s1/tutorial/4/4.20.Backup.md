# AWS Backup 超级详解（AWS SAP 必考+实战落地）
AWS Backup 是 AWS 灾备体系的“核心中枢”——解决了之前分散备份（如 EC2 AMI、RDS 快照、S3 版本控制）的痛点，实现“所有 AWS 资源集中备份、跨区域/跨账户复制、合规审计”一站式管理。作为 SAP 考试“合规备份”“集中灾备”题型的高频考点（占备份模块 60%+），本次讲解将从 **核心价值→考点拆解→实战配置→对比选型→考试陷阱** 全维度展开，衔接之前的灾备服务（如 DRS、S3 CRR），形成完整的 AWS 灾备知识体系！


## 一、先搞懂：AWS Backup 到底解决什么问题？（角色定位+核心价值）
### 1. 核心定位：所有 AWS 资源的“集中备份管家”
AWS 资源默认备份方式分散（如 EC2 用 AMI、RDS 用手动快照、S3 用版本控制），导致“管理混乱、合规困难、跨区域备份繁琐”。AWS Backup 的核心价值是：
- **集中管理**：一个控制台管理所有 AWS 资源备份（EC2、RDS、Aurora、DynamoDB、S3、EBS 等），无需切换多个服务；
- **自动化备份**：按预设计划自动备份（如每天凌晨 2 点备份），无需手动操作；
- **跨区域/跨账户复制**：备份数据一键复制到其他区域/账户，满足灾备和合规要求；
- **合规审计**：支持 WORM 防篡改、备份策略审计、合规报告导出，满足金融、医疗等强合规行业需求。

### 2. 通俗类比：公司的“集中档案室+合规监管部”
- 分散备份：每个部门（EC2、RDS 等资源）自己建档案室（手动备份），文件混乱、找不到、易丢失；
- AWS Backup：所有部门的文件（备份数据）统一存到集中档案室，有专职管理员（自动化策略）定期归档，支持：
  - 跨城市备份（跨区域复制）：应对城市级灾难；
  - 跨公司共享（跨账户复制）：子公司文件备份到母公司；
  - 机密文件锁死（Vault Lock）：一旦归档不能修改，满足监管要求。

### 3. 与其他备份方式的核心区别（考试选型题基础）
| 备份方式 | 适用场景 | 缺点 | AWS Backup 优势 |
|----------|----------|------|----------------|
| EC2 AMI 手动备份 | 单 EC2 实例备份 | 分散管理，无自动计划，跨区域复制繁琐 | 集中管理多个 EC2，自动备份+跨区域复制 |
| RDS 手动快照 | 单 RDS 实例备份 | 无法统一审计，合规性差 | 支持 RDS+Aurora 集中备份，合规审计+跨账户复制 |
| S3 版本控制 | S3 对象防删除 | 无跨区域复制（需 CRR），无合规锁 | 支持 S3 备份跨区域/跨账户复制，Vault Lock 合规 |
| DRS 实时同步 | 服务器跨区域灾备 | 仅支持服务器，不支持数据库/存储单独备份 | 支持所有 AWS 资源，定期备份+合规存储，与 DRS 互补 |


## 二、核心考点拆解（SAP 必考，每个点都要吃透）
### 考点 1：跨账户、跨区域复制备份（考试高频选型题）
这是 AWS Backup 最核心的灾备功能，解决“备份数据异地/异账户存储”需求，直接对接考试场景题。

#### 1. 核心作用（必背）
| 复制类型 | 核心作用 | 适用场景 | 考试关键词 |
|----------|----------|----------|------------|
| **跨区域复制** | 将主区域的备份数据复制到其他 AWS 区域（如悉尼→新加坡） | 1. 应对区域级灾难（主区域备份丢失，可从备用区域恢复）；<br>2. 满足“异地备份”合规要求（如金融行业需跨区域存储备份） | “跨区域”“灾备”“异地备份” |
| **跨账户复制** | 将备份数据复制到另一个 AWS 账户（如子公司账户→母公司账户） | 1. 集团公司集中管理备份（母公司统一存储子公司备份）；<br>2. 第三方审计（备份数据复制到审计账户）；<br>3. 数据隔离（生产账户备份到非生产账户，防止误删除） | “跨账户”“集团备份”“合规集中存储” |

#### 2. 关键配置细节（考试流程题考点）
- 复制前提：
  1. 跨区域复制：主区域和目标区域均启用 AWS Backup，且目标区域有“备份存储库（Vault）”；
  2. 跨账户复制：需在目标账户创建“跨账户访问权限”（IAM 角色），主账户授权该角色访问备份数据；
- 复制对象：支持复制“自动备份”“手动备份”“复制备份”（可链式复制，如账户 A→账户 B→账户 C）；
- 复制延迟：默认异步复制，延迟分钟级（取决于数据量），RPO 分钟~小时级（适合定期备份，不适合实时灾备）。

#### 3. 考题方向
- 选型题：“某集团公司需要将 5 个子公司的 RDS 备份集中存储到母公司 AWS 账户，应使用什么服务？”（答案：AWS Backup 跨账户复制）；
- 流程题：“简述 AWS Backup 跨区域复制的配置步骤”（答案：① 在目标区域创建备份库；② 主区域创建备份计划，启用跨区域复制；③ 选择目标区域和备份库；④ 配置复制权限）；
- 判断题：“AWS Backup 跨区域复制支持实时同步，RPO<1 秒”（错误！异步复制，RPO 分钟级）。

### 考点 2：Vault Lock（WORM 合规备份）—— 考试高频合规题
Vault Lock 是 AWS Backup 满足强合规的核心功能，必须掌握“WORM 定义+作用+配置细节”。

#### 1. 核心概念：WORM（Write Once Read Many）
- 中文：一次写入，多次读取；
- 核心逻辑：备份数据写入后，**无法修改、删除或覆盖**，只能读取和恢复，直到锁定期结束；
- 作用：满足金融（SEC 17a-4）、医疗（HIPAA）、政府（FedRAMP）等行业的合规要求，防止备份数据被恶意删除或篡改。

#### 2. Vault Lock 的关键特性（考试必记）
| 特性 | 核心逻辑 | 考试考点 |
|------|----------|----------|
| 锁定期（Retention Period） | 启用后需设置锁定期（如 90 天、1 年），锁定期内：<br>① 无法删除备份数据；<br>② 无法修改备份策略；<br>③ 无法禁用 Vault Lock | “AWS Backup Vault Lock 的锁定期有什么作用？”（答案：锁定期内备份数据不可修改/删除，满足合规） |
| 强制合规模式 | 分为“预览模式”和“强制模式”：<br>① 预览模式（30 天内）：可修改锁定期，30 天后自动转为强制模式；<br>② 强制模式：不可修改锁定期，只能等待锁定期结束 | “Vault Lock 启用后能否立即修改锁定期？”（答案：预览模式 30 天内可修改，强制模式不可修改） |
| 支持的备份类型 | 所有 AWS 资源的备份（如 RDS、EC2、S3）均可存储到启用 Vault Lock 的备份库 | 判断题：“Vault Lock 仅支持 RDS 备份的 WORM 存储”（错误！支持所有 AWS 资源备份） |

#### 3. 通俗类比：
Vault Lock 就像“银行的金库保险柜”—— 把备份数据（机密文件）放进去后，设置“90 天内不能打开”，期间任何人（包括管理员）都不能修改或删除文件，只能查看，满足监管要求。

#### 4. 考题方向
- 选型题：“某金融公司需要备份 RDS 交易数据，满足 SEC 17a-4 法规（要求备份数据不可篡改），应使用 AWS Backup 的什么功能？”（答案：Vault Lock）；
- 判断题：“AWS Backup Vault Lock 启用后，管理员可手动删除锁定期内的备份数据”（错误！锁定期内不可删除）；
- 细节题：“Vault Lock 的预览模式持续多久？”（答案：30 天）。

### 考点 3：自动化备份计划（考试流程题高频）
AWS Backup 的核心优势之一是“自动化”，避免手动备份遗漏，考试常考“备份计划的配置要素”。

#### 1. 备份计划的核心配置（必记）
| 配置项 | 核心逻辑 | 考试考点 |
|--------|----------|----------|
| 备份频率 | 支持：① 每日/每周/每月备份；② 自定义 cron 表达式（如每周一、三、五凌晨 3 点） | “某公司需要每周一、三、五备份 RDS 数据库，AWS Backup 应如何配置？”（答案：创建备份计划，选择自定义频率，设置 cron 表达式） |
| 备份保留期 | 备份数据的存储时间（如 30 天、90 天、1 年），到期后自动删除，节省成本 | “AWS Backup 如何优化备份存储成本？”（答案：设置合理的保留期，到期自动删除备份） |
| 备份窗口 | 备份执行的时间窗口（如凌晨 2 点-3 点），避免备份占用业务高峰期资源 | “为什么要配置 AWS Backup 的备份窗口？”（答案：避开业务高峰期，减少对业务的影响） |
| 目标备份库 | 备份数据存储的位置（普通备份库或启用 Vault Lock 的合规备份库） | “需要满足 WORM 合规的备份，应选择什么类型的备份库？”（答案：启用 Vault Lock 的备份库） |

#### 2. 考题方向
- 流程题：“简述创建 AWS Backup 自动化备份计划的步骤”（答案：① 创建备份库；② 新建备份计划，配置频率、保留期、备份窗口；③ 选择需要备份的资源（如 RDS、EC2）；④ 关联目标备份库；⑤ 启用跨区域/跨账户复制（可选））；
- 应用题：“某电商平台需要每日凌晨 2 点备份 EC2 和 RDS，备份保留 30 天，且需跨区域复制到新加坡，应如何配置 AWS Backup？”（答案：① 创建主区域备份库和新加坡区域备份库；② 新建备份计划，频率设为每日凌晨 2 点，保留期 30 天；③ 选择 EC2 和 RDS 资源；④ 启用跨区域复制，目标区域选新加坡；⑤ 关联备份库）。

### 考点 4：支持的资源类型（考试判断题高频）
AWS Backup 支持几乎所有核心 AWS 资源，考试常考“是否支持某类资源备份”，需牢记以下重点：

| 支持的资源 | 考试关键词 | 不支持的资源（考试陷阱） |
|------------|------------|--------------------------|
| EC2 实例（含 AMI、EBS 卷） | “EC2 备份”“AMI 自动化” | 无服务器资源（如 Lambda、Fargate）—— 需手动备份代码/配置 |
| RDS/Aurora 数据库（含快照） | “RDS 备份”“Aurora 合规备份” | 本地数据中心资源—— 需用 DRS 或 AWS Storage Gateway 同步到 AWS 后备份 |
| DynamoDB 表 | “NoSQL 备份”“DynamoDB 跨区域复制” | 第三方云厂商资源 |
| S3 桶（对象备份） | “S3 合规备份”“Vault Lock” |  |
| EFS 文件系统 | “EFS 备份”“跨 AZ 存储备份” |  |
| AWS Storage Gateway（本地数据） | “本地数据备份到 AWS” |  |

#### 考题方向
- 判断题：“AWS Backup 支持直接备份本地物理服务器的数据”（错误！需通过 AWS Storage Gateway 同步到 AWS 后再备份）；
- 选择题：“以下哪种资源不能通过 AWS Backup 备份？”（答案：Lambda 函数—— 需手动备份代码到 S3）。


## 三、AWS Backup 与其他灾备服务的对比（SAP 必考选型）
AWS Backup 不是“替代”之前的灾备服务，而是“互补”，考试核心是区分“什么时候用 AWS Backup，什么时候用 DRS/S3 CRR/AGD”：

| 对比维度 | AWS Backup | DRS（Elastic Disaster Recovery） | S3 CRR | Aurora Global Database（AGD） |
|----------|------------|----------------------------------|--------|--------------------------------|
| 核心功能 | 集中备份（定期）、合规存储、跨区域/跨账户复制 | 服务器跨区域灾备（实时同步）、快速恢复 | S3 对象跨区域实时复制 | 数据库跨区域灾备（亚秒级同步） |
| 适用对象 | 所有 AWS 资源（EC2、RDS、S3 等） | 物理/虚拟/EC2 服务器 | S3 桶对象 | Aurora 数据库 |
| RPO | 分钟~小时级（定期备份） | 1~5 分钟（实时同步） | 分钟级（近实时） | ≈0（亚秒级） |
| RTO | 小时~天级（恢复需手动触发） | 15~60 分钟（自动恢复） | 分钟级（手动恢复） | <1 分钟（自动切换） |
| 核心价值 | 集中管理、合规审计、低成本备份 | 服务器快速恢复、低成本灾备 | S3 对象异地备份、全球访问 | 数据库强事务+低 RPO/RTO |
| 考试关键词 | “合规”“集中备份”“跨账户”“WORM” | “服务器灾备”“快速恢复”“Pilot Light” | “S3 备份”“跨区域复制”“对象存储” | “数据库”“强事务”“低 RPO” |

### 选型决策树（考试快速答题工具）
遇到备份/灾备选型题，按以下步骤判断：
1. 先看需求是“集中备份/合规”还是“快速灾备/实时同步”：
   - 集中备份、合规审计、跨账户存储→选 AWS Backup；
   - 快速灾备、实时同步、低 RTO→选 DRS/AGD/S3 CRR；
2. 再看对象类型：
   - 多资源集中备份（EC2+RDS+S3）→ AWS Backup；
   - 服务器（物理/虚拟/EC2）→ DRS；
   - S3 对象→ S3 CRR；
   - Aurora 数据库→ AGD；
3. 最后看合规要求：
   - 需 WORM 防篡改→ AWS Backup Vault Lock；
   - 无需合规→ 按对象类型选择对应服务。

#### 考试真题示例：
> 某银行需要将 RDS 交易数据、EC2 应用服务器、S3 静态资源进行集中备份，满足：① 跨区域存储备份；② 备份数据不可篡改；③ 集中管理备份策略。应选择哪种服务？（ ）
> A. DRS B. S3 CRR C. AWS Backup D. Aurora Global Database
> 
> 答案：C  
> 解析：① 多资源集中备份→ 排除 A（仅服务器）、B（仅 S3）、D（仅 Aurora）；② 跨区域+WORM 合规+集中管理→ 选 AWS Backup。


## 四、实战配置流程（考试流程题高频）
以“某公司用 AWS Backup 备份 RDS 和 EC2，跨区域复制到新加坡，启用 Vault Lock 合规”为例，完整流程如下：

### 阶段 1：前期准备
1. 主区域（悉尼）和目标区域（新加坡）均启用 AWS Backup 服务；
2. 在主区域创建 2 个备份库：① 普通备份库（存储日常备份）；② 合规备份库（启用 Vault Lock，锁定期 90 天）；
3. 在新加坡区域创建 1 个备份库（存储跨区域复制的备份）；
4. 配置 IAM 权限：给 AWS Backup 服务角色授予“备份 RDS/EC2”“跨区域复制”“访问 Vault Lock”的权限。

### 阶段 2：创建自动化备份计划
1. 登录 AWS 控制台，进入 AWS Backup→“备份计划”→“创建备份计划”；
2. 配置备份计划：
   - 名称：`prod-backup-plan`；
   - 频率：每日凌晨 2 点；
   - 备份窗口：2:00-3:00（1 小时）；
   - 保留期：90 天；
3. 选择备份资源：
   - 资源类型：RDS 数据库、EC2 实例；
   - 资源 ID：选择需要备份的 RDS 实例和 EC2 实例；
4. 关联备份库：
   - 日常备份→ 主区域普通备份库；
   - 合规备份→ 主区域合规备份库（启用 Vault Lock）；
5. 启用跨区域复制：
   - 目标区域：新加坡；
   - 目标备份库：新加坡区域备份库；
   - 复制频率：备份完成后立即复制。

### 阶段 3：监控与恢复
1. 监控：在 AWS Backup 控制台查看备份状态、复制进度、合规报告；
2. 恢复：当需要恢复时，选择备份数据→“恢复”→ 选择目标资源（如新建 RDS 实例、EC2 实例）→ 确认恢复；
3. 合规审计：导出备份报告，用于满足行业监管要求。


## 五、常见考试陷阱（必避坑）
1. 陷阱 1：AWS Backup 支持实时同步→ 错误！是定期备份，RPO 分钟级，实时灾备需用 DRS/AGD；
2. 陷阱 2：Vault Lock 启用后可随时修改锁定期→ 错误！预览模式 30 天内可修改，强制模式不可修改；
3. 陷阱 3：AWS Backup 可直接备份本地服务器→ 错误！需通过 AWS Storage Gateway 同步到 AWS 后备份；
4. 陷阱 4：跨账户复制无需配置权限→ 错误！需在目标账户创建 IAM 角色，主账户授权访问；
5. 陷阱 5：备份保留期到期后，Vault Lock 的备份数据会自动删除→ 正确！锁定期≠保留期，保留期到期后自动删除，锁定期内仅限制修改/删除。


## 六、模拟考题（检验学习成果）
### 考题 1（选型题）
某医疗公司需要备份 Aurora 数据库和 EFS 文件系统，要求：① 备份数据不可篡改，满足 HIPAA 合规；② 跨区域存储备份；③ 集中管理备份策略。以下哪种服务最适合？（ ）
A. DRS B. AWS Backup C. S3 CRR D. Aurora Global Database
答案：B  
解析：① 多资源（Aurora+EFS）集中备份→ 排除 A、C、D；② WORM 合规+跨区域→ 选 AWS Backup。

### 考题 2（简答题）
简述 AWS Backup Vault Lock 的核心作用和配置流程。
答案：
- 核心作用：启用 WORM（一次写入，多次读取）模式，锁定期内备份数据不可修改/删除，满足强合规要求；
- 配置流程：① 在 AWS Backup 中创建备份库；② 编辑备份库，启用 Vault Lock；③ 设置锁定期（如 90 天）；④ 选择预览模式（30 天内可修改）或强制模式（不可修改）；⑤ 关联备份计划，将合规备份存储到该库。

### 考题 3（判断题）
“AWS Backup 跨区域复制支持所有 AWS 资源的备份，包括 Lambda 函数和本地物理服务器”（ ）
答案：错误  
解析：① Lambda 函数不支持 AWS Backup 备份；② 本地物理服务器需通过 AWS Storage Gateway 同步后备份，不能直接备份。


## 七、核心考点速记（必背）
1. AWS Backup 定位：所有 AWS 资源的集中备份管家，核心价值是集中管理、合规审计、跨区域/跨账户复制；
2. 核心功能：
   - 跨区域/跨账户复制：应对灾备和集团集中备份；
   - Vault Lock：WORM 合规，锁定期内不可修改/删除；
   - 自动化备份计划：频率、保留期、备份窗口可配置；
3. 支持资源：EC2、RDS、Aurora、DynamoDB、S3、EFS 等，不支持本地服务器和 Lambda；
4. 选型逻辑：合规/集中备份→ AWS Backup；实时灾备/单资源备份→ DRS/S3 CRR/AGD；
5. 考试关键词：合规、WORM、Vault Lock、跨账户、集中备份。

AWS Backup 是 AWS 灾备体系的“基础保障”，与 DRS、AGD、S3 CRR 互补，形成“定期备份+实时灾备+合规存储”的全链路灾备方案