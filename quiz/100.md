#### 📝 [100/529] 第三方调用解耦 (SNS vs SQS)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** Lambda 同步调用第三方服务。
* **痛点：** 延迟高，错误率高。
* **需求：** **Decouple** (解耦) + **Ensure all calls eventually complete** (确保最终完成/不丢消息)。

**2. ⚡ 秒杀思路**
* **解耦模式：** 引入队列。
* **选项对比：**
    * **SQS (A):** 消息队列，提供持久化存储和重试机制（DLQ）。如果第三方挂了，消息在队列里堆积，Lambda Consumer 可以慢慢处理或重试，直到成功。这是"确保最终完成"的最佳机制。
    * **SNS (D):** Pub/Sub 模式。虽然也支持重试，但主要用于广播。如果重试几次还失败，消息可能就丢了（除非配了 DLQ，但 SQS 本身就是为任务缓冲设计的）。
    * **EventBridge (C):** 类似 SNS，更多用于事件路由。
    * **Step Functions (B):** 也可以做重试，但 SQS 是最基础、最标准的"削峰填谷+可靠投递"解耦组件。对于"High latency"（高延迟）场景，SQS 允许 Consumer 按照自己的节奏处理，不会阻塞上游。
    * **锁定 A。**

**3. ✅ 正确选项解析 (选项 A)**
* **SQS:** 异步解耦的标准答案。保证消息持久化和最终一致性。

**5. 📚 核心考点:** 同步转异步架构 (SQS)。