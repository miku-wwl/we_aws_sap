#### ğŸ“ [246/529] è·¨è´¦æˆ·åªè¯»è®¿é—® (Organizations Access Role)

**1. ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **åœºæ™¯ï¼š** Security Account $â†’$ All Member Accountsã€‚
* **éœ€æ±‚ï¼š** **Read-only access** (åªè¯»è®¿é—®)ã€‚
* **ç¯å¢ƒï¼š** AWS Organizationsã€‚

**2. âš¡ ç§’æ€æ€è·¯**
* **é»˜è®¤è§’è‰²ï¼š** å½“é€šè¿‡ Organizations åˆ›å»ºæ–°è´¦æˆ·æ—¶ï¼ŒAWS ä¼šè‡ªåŠ¨åœ¨æˆå‘˜è´¦æˆ·é‡Œåˆ›å»ºä¸€ä¸ª IAM Roleï¼Œé»˜è®¤å« **`OrganizationAccountAccessRole`**ã€‚è¿™ä¸ªè§’è‰²é»˜è®¤ä¿¡ä»»ç®¡ç†è´¦æˆ·ï¼Œä¸”æ‹¥æœ‰ AdministratorAccessã€‚
* **è®¿é—®æ–¹å¼ï¼š** å®‰å…¨å›¢é˜Ÿï¼ˆåœ¨ Security Accountï¼‰éœ€è¦è®¿é—®æˆå‘˜è´¦æˆ·ã€‚
    * é€šå¸¸ `OrganizationAccountAccessRole` æ˜¯ç»™ Management Account ç”¨çš„ã€‚
    * å¦‚æœå®‰å…¨å›¢é˜Ÿåœ¨å•ç‹¬çš„ Security Accountï¼Œä»–ä»¬**ä¸èƒ½ç›´æ¥** Assume æˆå‘˜è´¦æˆ·çš„è¿™ä¸ªé»˜è®¤è§’è‰²ï¼ˆå› ä¸ºè¯¥è§’è‰²åªä¿¡ä»» Management Accountï¼‰ã€‚
    * **é™¤éï¼š** ä¿®æ”¹æˆå‘˜è´¦æˆ·è§’è‰²çš„ä¿¡ä»»ç­–ç•¥ã€‚ä½†å‡ ç™¾ä¸ªè´¦æˆ·æ”¹ä¿¡ä»»ç­–ç•¥å¾ˆéº»çƒ¦ã€‚
    * **æ›´æ ‡å‡†çš„åšæ³•ï¼š** Management Account Assume è¿™ä¸ªè§’è‰²ã€‚
    * **ä½†æ˜¯ï¼Œé¢˜ç›®é—®çš„æ˜¯ "How to meet requirements from Security Account"ã€‚**
    * **é€‰é¡¹ D:** ä½¿ç”¨ `AssumeRole` APIã€‚ä½†æ˜¯å‰ææ˜¯æˆå‘˜è´¦æˆ·çš„è§’è‰²ä¿¡ä»» Security Accountã€‚é»˜è®¤çš„ `OrganizationAccountAccessRole` **ä¸ä¿¡ä»»** Security Accountã€‚
    * **é€‰é¡¹ B:** "Create a NEW IAM role in each member account... trust Security Account"ã€‚è¿™æ‰æ˜¯æ­£è§£ã€‚è™½ç„¶éœ€è¦ StackSets æ‰¹é‡åˆ›å»ºï¼Œä½†è¿™å»ºç«‹äº†æ­£ç¡®çš„ä¿¡ä»»å…³ç³»ã€‚
    * **ç­‰ç­‰ï¼ŒA vs B:** A æ˜¯å»º Policyï¼ŒB æ˜¯å»º Roleã€‚è·¨è´¦æˆ·å¿…é¡»ç”¨ Roleã€‚
    * **å†çœ‹ C/D:** å®ƒä»¬è¯•å›¾ç”¨é»˜è®¤è§’è‰²ã€‚é™¤éé¢˜ç›®éšå«äº†"Security Account ä¹Ÿæ˜¯ Management Account"æˆ–è€…"å·²ç»ä¿®æ”¹äº†ä¿¡ä»»å…³ç³»"ã€‚é€šå¸¸ Security Account æ˜¯æˆå‘˜è´¦æˆ·ä¹‹ä¸€ï¼ˆDelegated Adminï¼‰ã€‚
    * **è®©æˆ‘ä»¬é‡æ–°å®¡è§† Organizations çš„æœ€ä½³å®è·µï¼š** ä¸ºäº†ç®¡ç†è®¿é—®ï¼Œé€šå¸¸ä½¿ç”¨ **AWS SSO (IAM Identity Center)**ã€‚ä½†é€‰é¡¹æ²¡æã€‚
    * å¦‚æœå¿…é¡»åœ¨ A/B/C/D é€‰ã€‚
    * C/D çš„ `OrganizationAccountAccessRole` é»˜è®¤åªä¿¡ä»» Management Accountã€‚å¦‚æœ Security Account ä¸æ˜¯ Management Accountï¼ŒC/D ç›´æ¥ä¸å¯ç”¨ã€‚
    * A/B éœ€è¦åœ¨æ¯ä¸ªè´¦æˆ·åˆ›å»ºæ–°ä¸œè¥¿ã€‚é€šè¿‡ CloudFormation StackSets å¯ä»¥è½»æ¾åœ¨æ‰€æœ‰æˆå‘˜è´¦æˆ·åˆ›å»ºæ–° Role (B)ã€‚è¿™ä¸ªæ–° Role èµ‹äºˆ ReadOnly æƒé™ï¼Œå¹¶ä¿¡ä»» Security Accountã€‚è¿™æ˜¯æœ€å¹²å‡€ã€æœ€æ˜ç¡®çš„æˆæƒæ–¹å¼ã€‚
    * **é”å®š Bã€‚**

**3. âœ… æ­£ç¡®é€‰é¡¹è§£æ (é€‰é¡¹ B)**
* **Custom Cross-Account Role:** ä¸“é—¨ä¸ºå®‰å…¨å›¢é˜Ÿåˆ›å»ºï¼Œé…ç½®æ­£ç¡®çš„ä¿¡ä»»ç­–ç•¥ã€‚

**5. ğŸ“š æ ¸å¿ƒè€ƒç‚¹:** Organizations ç¯å¢ƒä¸‹çš„è·¨è´¦æˆ·è§’è‰²è®¾è®¡ã€‚