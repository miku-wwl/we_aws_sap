#### 📝 [232/529] 混合云多区域网络 (DXGW + TGW)

**1. 🕵️‍♂️ 题眼与约束分析**
* **连接：** On-prem $→$ AWS (Regions)。
* **需求：**
    1.  **Transitive routing** between VPCs (VPC 间传递路由/互通)。
    2.  Reduce egress cost (降低出站成本？题目说 reduce network egress traffic cost，通常指数据传输费)。
    3.  Increase bandwidth throughput (增加带宽)。
    4.  Consistent network experience (一致体验)。
* **架构：** Direct Connect。

**2. ⚡ 秒杀思路**
* **核心组件：**
    * **Transit Gateway (TGW):** 实现 VPC 间传递路由（Any-to-Any）。每个区域一个 TGW。
    * **Direct Connect Gateway (DXGW):** 连接本地 DX 到多个区域的 TGW。
    * **Transit VIF:** 将 DXGW 连接到 DX。
* **架构拓扑：**
    * On-prem $→$ DX $→$ Transit VIF $→$ DXGW $→$ TGW (Region 1) / TGW (Region 2)。
    * **VPC 互通：** 同区域 VPC 连 TGW 互通。跨区域 VPC 呢？
    * **选项 B:** "Connect DXGW to TGWs in each region... Connect DXGW to all other VPCs using TGWs"。这描述了 DXGW + TGW 的标准架构。
    * **但是，** 题目要求 VPC 之间互通。DXGW 支持 TGW 之间的路由吗？DXGW **不** 支持 TGW 之间的 Hairpinning（即 VPC A -> TGW A -> DXGW -> TGW B -> VPC B 是不通的）。
    * **要实现跨区域 VPC 互通：** 必须使用 **TGW Peering**。
    * 让我们看选项：
        * A (VPN + Peering): 性能差，管理乱。
        * C (VPN + TGW): VPN 带宽有限，不满足 "Increase bandwidth"。
        * D (VPN between all VPCs): 疯了。
    * **再看 B:** 选项 B 没有提到 TGW Peering。它说 "Connect DXGW to all other VPCs using Transit Gateways"。这可能隐含了 TGW 负责 VPC 连接。
    * **难道题目只想实现 On-prem 到 VPC 的互通？**
    * "Provide connectivity with transitive routing capabilities between VPC networks"。这通常指 VPC <-> VPC。
    * 如果 B 选项没有 TGW Peering，VPC 跨区域是不通的。
    * **但是，** 对比 A/C/D，只有 B 使用了 **Direct Connect + Transit VIF + DXGW + TGW** 这一套"高带宽、现代化"组合。在 SAP 考试中，这套组合通常是正确答案的基石。也许题目假设通过本地路由或者隐含了 Peering？或者题目重点是 On-prem 到所有 VPC 的传递路由？
    * 实际上，最新的 DXGW 确实允许 TGW 关联。虽然 DXGW 本身不做 TGW-to-TGW 路由，但它是混合云连接的标准。
    * **让我们仔细看 B 的描述：** "Provision a transit VIF... connect to DXGW... Connect DXGW to all other VPCs using the Transit Gateways in each region"。这句话描述了连接路径。相比其他选项（VPN, Peering），B 是唯一符合"高带宽、一致体验"的。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **DXGW + TGW:** 企业级多区域混合云网络标准架构。

**5. 📚 核心考点:** DXGW 与 TGW 的结合使用。