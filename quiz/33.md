
---

#### 📝 [33/529] 单体 API 扩展 (Route 53 vs ALB)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** 单体 REST API，EC2 公有子网，Route 53 **Multivalue Answer** (多值应答)。
* **痛点：** 流量激增，应用不堪重负。
* **目标：** Handle load (处理负载) + **Minimize operational overhead** (最小运维)。

**2. ⚡ 秒杀思路**
* **架构缺陷：** Route 53 多值应答不是负载均衡器，它只是 DNS 轮询。它无法感知实例的实时负载，也无法做连接池复用。
* **解决方案：** 需要一个真正的 Load Balancer (ALB) 来分发流量，配合 Auto Scaling 扩展后端。
* **秒杀动作：**
    * 选项 A (Lambda) / B (EKS): 重构单体应用为 Serverless 或容器，工作量巨大，违反“最小运维”。
    * 选项 C (ASG + Lambda 更新 DNS): 这是自造轮子。ASG 扩容时，IP 变动极其频繁，靠 Lambda 去刷 DNS 记录会有延迟（TTL 问题），极不稳定。
    * **选项 D:** 引入 **ALB**。ALB 原生支持动态目标（Auto Scaling），且将 EC2 移入私有子网符合安全最佳实践。这是标准架构。
    * **锁定 D。**

**3. ✅ 正确选项解析 (选项 D)**
* **ALB:** 7 层负载均衡，完美适配 REST API。
* **Private Subnet:** 增强安全性。
* **Route 53 -> ALB:** 使用 Alias Record 指向 ALB，利用 AWS 内部的扩容能力。

**5. 📚 核心考点:** 从 DNS 轮询升级到 ELB 负载均衡的标准路径。
