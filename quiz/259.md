#### 📝 [259/529] ASG 缩容日志丢失 (CloudWatch Agent)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现象：** ASG Scale-in (缩容) 后，实例被终止，本地日志丢失。
* **目标：** View logs after scale-in (缩容后仍能看日志)。

**2. ⚡ 秒杀思路**
* **日志持久化：**
    * 必须将日志实时流式传输到中心化存储（如 CloudWatch Logs 或 S3）。
    * **CloudWatch Agent (B):** 是将 EC2 内部日志（Application logs）推送到 CloudWatch Logs 的标准工具。即使实例死了，日志还在 CloudWatch 里。
* **选项对比：**
    * 选项 A (ALB Access Logs): 只能看请求记录，看不到"应用程序内部日志"（如代码报错、调试信息）。
    * 选项 C (Step scaling): 不解决日志丢失问题。
    * 选项 D (X-Ray): 用于链路追踪，虽然有用，但不能替代完整的文本日志文件。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **CloudWatch Agent:** 实时采集日志，实现计算与日志存储分离。

**5. 📚 核心考点:** 临时实例 (Ephemeral Instance) 的日志持久化策略。