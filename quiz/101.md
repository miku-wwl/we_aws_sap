#### 📝 [101/529] 跨账户 S3 访问 (KMS 加密版)

**1. 🕵️‍♂️ 题眼与约束分析**
* **场景：** Marketing 账户 (QuickSight) $→$ Sales 账户 (S3)。
* **数据保护：** S3 使用 **AWS KMS** 加密。
* **目标：** **Least operational overhead** (最小运维开销)。
* **核心难点：** 跨账户 S3 访问不仅需要 Bucket Policy 允许，还需要 KMS Key Policy 允许（解密）。且 QuickSight 服务角色需要权限。

**2. ⚡ 秒杀思路**
* **跨账户加密对象访问三要素：**
    1.  **Identity Policy (Marketing):** QuickSight 角色有 S3 和 KMS 权限。
    2.  **Resource Policy (S3):** Bucket Policy 允许 Marketing 角色。
    3.  **KMS Policy (Key):** Key Policy 允许 Marketing 角色使用 `kms:Decrypt`。
* **选项对比：**
    * 选项 A (S3 Replication): 复制几 PB 数据？太慢太贵，完全不是"访问"的思路。
    * 选项 B (RAM Share Key): KMS 密钥**不能**通过 AWS RAM 共享。RAM 共享的是 Subnet, TGW, Resolver 等，不包括 KMS。
    * 选项 D (Assume Role): Marketing 角色 Assume Sales 角色。虽然技术上可行，但 QuickSight 直接使用 Assume Role 有点复杂（QuickSight 通常直接用本账户的服务角色访问资源，只要资源策略允许）。而且 D 没提 KMS 权限，肯定跑不通。
    * **选项 C:** 直接修改 Sales 账户的 S3 Bucket Policy。使用 **KMS Grant** (授权) 来赋予 QuickSight 角色解密权限。这比修改 Key Policy 更灵活（特别是当 Key Policy 很难改或者受限时，Grant 是常用的编程方式授权）。更重要的是，它描述了完整的"Identity + Resource + KMS"授权链路。
    * **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **KMS Grant:** 这是一种授权机制，允许 Marketing 角色解密数据，而无需修改 KMS 密钥策略本身（或者作为一种替代）。
* **Direct Access:** QuickSight 直接读取 S3，无需数据搬迁。

**4. ❌ 错误选项排查**
* **选项 B:** KMS 不支持 RAM 共享。

**5. 📚 核心考点:** 跨账户加密 S3 对象的访问权限链 (S3 Policy + KMS Policy/Grant)。