#### 📝 [468/529] VPC Flow Logs 存储与查询优化 (Parquet)

**1. 🕵️‍♂️ 题眼与约束分析**
* **源:** VPC Flow Logs (Text format, Gzip)。
* **问题:** Athena query performance degrades (查询慢), Storage space (存储空间)。
* **目标:** **Improve performance** & Reduce storage。

**2. ⚡ 秒杀思路**
* **格式优化：**
    * 文本日志（Text/Gzip）查询效率低，需要全扫描解压。
    * **Parquet (C):** 列式存储，极大提高 Athena 查询性能（只扫描需要的列），且压缩率通常比 Gzip 文本更好。VPC Flow Logs 原生支持直接输出为 Parquet 格式。
* **分区优化：**
    * **Hive Partitioning (C):** "Specify hourly partitions"。按时间分区（Hive 格式），Athena 查询时可以利用分区裁剪，只扫描特定时间段的数据，极大提升性能。
* **选项对比：**
    * A (Lambda convert): 自己写 Lambda 转换？VPC Flow Logs 原生支持 Parquet，没必要造轮子。
    * B (Transfer Acceleration + Intelligent Tiering): 加速上传和省存储费，但不解决 Athena 查询慢的问题（还是 Gzip 文本）。
    * D (Athena Engine v2): 引擎升级有帮助，但不如数据格式优化（Parquet + Partition）效果显著。
    * **C:** Parquet + Partitioning。这是大数据查询优化的王道。
* **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **Parquet:** 列式存储加速查询。
* **Partitioning:** 减少扫描数据量。

**5. 📚 核心考点:** VPC Flow Logs 的 Parquet 格式支持与 Athena 优化。