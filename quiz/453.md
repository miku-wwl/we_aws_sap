#### ğŸ“ [453/529] EFS å¤‡ä»½ RPO 100 åˆ†é’Ÿ (PITR)

**1. ğŸ•µï¸â€â™‚ï¸ é¢˜çœ¼ä¸çº¦æŸåˆ†æ**
* **å­˜å‚¨ï¼š** EFS (KMS Encrypted)ã€‚
* **ç°çŠ¶ï¼š** AWS Backup Default Plan (Daily?)ã€‚
* **éœ€æ±‚ï¼š** Restore deleted documents within **100 minutes RPO** (RPO < 100min)ã€‚
* **æœºåˆ¶ï¼š** Automatic backupã€‚

**2. âš¡ ç§’æ€æ€è·¯**
* **å¤‡ä»½é¢‘ç‡ï¼š**
    * AWS Backup é»˜è®¤è®¡åˆ’é€šå¸¸æ˜¯æ¯æ—¥ã€‚RPO 24å°æ—¶ã€‚ä¸æ»¡è¶³ã€‚
    * é€‰é¡¹ A: Hourly backup plan (æ¯å°æ—¶)ã€‚RPO 60åˆ†é’Ÿã€‚æ»¡è¶³ 100 åˆ†é’Ÿè¦æ±‚ã€‚
    * é€‰é¡¹ B: Cron expression every 30 minsã€‚RPO 30åˆ†é’Ÿã€‚æ»¡è¶³ã€‚
    * é€‰é¡¹ C: **Continuous Backup (Point-in-Time Recovery)**ã€‚EFS æ”¯æŒ AWS Backup çš„ PITRã€‚è¿™å…è®¸æ¢å¤åˆ°è¿‡å» 35 å¤©å†…çš„ä»»æ„ç§’ã€‚RPO æ¥è¿‘ 0ã€‚æ»¡è¶³ã€‚
* **æƒé™ (KMS):**
    * AWS Backup æ¢å¤æˆ–åˆ›å»ºåŠ å¯†å¤‡ä»½éœ€è¦ KMS æƒé™ã€‚
    * é€‰é¡¹ A/C: "Create NEW IAM role... update KMS policy to allow NEW role"ã€‚è¿™æ˜¯æ­£ç¡®çš„æƒé™é…ç½®æ­¥éª¤ï¼ˆAWS Backup éœ€è¦ä¸€ä¸ª Service Roleï¼‰ã€‚
    * é€‰é¡¹ B/D: "Allow `AWSServiceRoleForBackup`"ã€‚è¿™æ˜¯æœåŠ¡é“¾æ¥è§’è‰²ã€‚é€šå¸¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰è§’è‰²ä¼ ç»™ AWS Backupï¼Œæˆ–è€…ä½¿ç”¨é»˜è®¤çš„ã€‚
* **å¯¹æ¯” A, B, C:**
    * A (Hourly): ç¦»æ•£å¤‡ä»½ã€‚äº§ç”Ÿå¾ˆå¤šæ¢å¤ç‚¹ã€‚
    * B (30 mins Cron): åŒä¸Šã€‚
    * C (Continuous Backup): è¿™æ˜¯ EFS/Backup çš„é«˜çº§åŠŸèƒ½ï¼Œä¸“ä¸ºä½ RPO è®¾è®¡ã€‚**Point-in-Time Recovery (PITR)** æ¯”é¢‘ç¹æ‰“å¿«ç…§æ›´é«˜æ•ˆã€æ›´æ˜“ç®¡ç†ã€‚
    * é¢˜ç›®é—® "Which solution meets requirements"ã€‚A, B, C éƒ½æ»¡è¶³ RPOã€‚
    * ä½†æ˜¯ï¼Œ**PITR (Continuous Backup)** æ˜¯ AWS Backup é’ˆå¯¹ EFS/RDS ç­‰æœåŠ¡æ¨èçš„å®ç°ä½ RPO çš„åŸç”Ÿæ–¹å¼ã€‚å®ƒä¸éœ€è¦ä½ å†™ Cron è¡¨è¾¾å¼ï¼Œä¹Ÿä¸éœ€è¦ç®¡ç†æˆåƒä¸Šä¸‡ä¸ªæ¯å°æ—¶çš„å¿«ç…§ã€‚
    * **é”å®š Cã€‚**

**3. âœ… æ­£ç¡®é€‰é¡¹è§£æ (é€‰é¡¹ C)**
* **Continuous Backup (PITR):** å®ç°ä»»æ„æ—¶é—´ç‚¹æ¢å¤ï¼Œæ»¡è¶³ä¸¥æ ¼ RPOã€‚
* **IAM Role & KMS:** æ­£ç¡®çš„æƒé™é…ç½®æµç¨‹ã€‚

**5. ğŸ“š æ ¸å¿ƒè€ƒç‚¹:** AWS Backup çš„æŒç»­å¤‡ä»½ï¼ˆPITRï¼‰åŠŸèƒ½åŠå…¶ä¼˜åŠ¿ã€‚