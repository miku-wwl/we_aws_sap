#### 📝 [183/529] ECS 抗 SQL 注入 (WAF)

**1. 🕵️‍♂️ 题眼与约束分析**
* **环境：** ECS Fargate + ALB。
* **攻击：** **SQL Injection attacks**。
* **后果：** API 性能下降，Auto Scaling 撑爆。
* **目标：** Prevent SQLi, allow legitimate traffic, maximize operational efficiency。

**2. ⚡ 秒杀思路**
* **防御工具：** **AWS WAF** 是防御 Web 攻击（如 SQLi, XSS）的标准工具。
* **规则集：** AWS WAF 提供了 **Managed Rule Groups** (托管规则组)，其中就有专门针对 **SQL database** (SQLi) 的规则集。开箱即用，无需自己写正则。
* **选项对比：**
    * 选项 A (New Web ACL): 只是创建了 ACL，没说加什么规则，没用。
    * 选项 B (Bot Control): Bot Control 是防爬虫的，虽然也能防一些，但 SQLi 有专门的 SQLi 规则组，更精准。
    * 选项 D (Lambda + Log Parsing): 自己写 Lambda 分析日志再封 IP？这是"反应式"防御，有延迟，且运维复杂（造轮子）。WAF 是实时拦截。
    * **选项 C:** 创建 Web ACL，添加 **SQL database rule group** (托管规则)，允许其他流量。将 ACL 关联到 **ALB**。这是最标准、最高效的解法。
    * **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **AWS Managed Rules (SQL database):** 专门防御 SQL 注入，由 AWS 安全团队维护，零运维成本。

**5. 📚 核心考点:** AWS WAF 托管规则组的应用。