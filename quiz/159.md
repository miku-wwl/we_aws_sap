#### 📝 [159/529] 自动化 DDoS 防御 (WAF + Shield)

**1. 🕵️‍♂️ 题眼与约束分析**
* **场景：** ALB + WAF。
* **攻击：** Application layer attacks (应用层攻击)，来源 IP 随机变动。
* **目标：** Mitigate attacks (缓解攻击) + **Minimize operational overhead**。

**2. ⚡ 秒杀思路**
* **防御手段：**
    * 针对应用层攻击（HTTP Flood），**AWS WAF** 是第一道防线。
    * 针对 IP 封禁，手动分析日志太慢。
    * **AWS Shield Advanced (B):** 提供 DDoS 响应团队 (DRT) 和高级自动缓解。但它很贵 ($3000/月)。题目问 "Minimize operational overhead"，Shield Advanced 确实省事，但通常作为"高价值"选项。
    * **WAF Rate-based Rules (未列出):** 这是最简单的。
    * **选项 A:** CloudWatch Alarm 监控访问量 $\\rightarrow$ 触发 Lambda (Action? A 说是把 IP 加黑名单)。这需要写代码。
    * **选项 B:** 部署 Shield Advanced。它能自动检测并缓解 DDoS，而且如果你用了 WAF，Shield Advanced 可以自动写 WAF 规则来拦截攻击。这是托管服务，运维最少。
    * **选项 C/D:** 都要自己分析日志或写 Lambda。
    * **但是，** Shield Advanced 主要是防 L3/L4 DDoS，虽然也有应用层防护，但 WAF 才是 L7 的主力。
    * **让我们重读 A:** "Configure alarm action to add IP to web ACL deny list". CloudWatch Alarm Action 原生不支持"修改 WAF 规则"。这需要 Lambda。A 的描述技术上不完整。
    * **选项 C:** "Configure alarm to invoke Lambda... add deny rule to subnet route table (NACL)". 修改 NACL？NACL 有条目限制（20/40条），对于大量攻击 IP，NACL 很快就爆了。不推荐。
    * **选项 B:** Shield Advanced 是 AWS 推荐的 DDoS 托管方案。对于不想自己写自动化脚本的公司，Shield Advanced 提供了自动的应用层 DDoS 缓解（自动向 WAF 添加规则）。虽然贵，但"Operational Overhead"确实最低。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **Shield Advanced:** 托管 DDoS 保护，自动集成 WAF 进行应用层清洗，零运维。

**5. 📚 核心考点:** DDoS 自动化防御选型 (Shield Advanced)。