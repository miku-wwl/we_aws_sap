#### 📝 [182/529] 存储迁移安全 (S3 + KMS)

**1. 🕵️‍♂️ 题眼与约束分析**
* **需求：**
    1.  Fully managed service (全托管)。
    2.  Highly durable & available (高持久高可用)。
    3.  Encrypted at rest & in transit (动静加密)。
    4.  **Keys managed by company & rotated** (客户管理密钥 + 轮换)。
* **目标：** Document storage (文档存储)。

**2. ⚡ 秒杀思路**
* **服务选型：** 存储文档，高持久性 $\\rightarrow$ **S3**。
* **加密要求：**
    * **Keys managed by company:** 需要 **SSE-KMS** (使用 Customer Managed Key, CMK)。
    * **Rotated:** KMS CMK 支持每年自动轮换。
* **传输加密：** **HTTPS** (S3 默认支持，可通过 Bucket Policy 强制)。
* **选项对比：**
    * 选项 A (Storage Gateway): 需要部署虚拟机，不如 S3 全托管。
    * 选项 C (DynamoDB): 存大量文档（大对象）成本高，且 DDB 主要存结构化数据。
    * 选项 D (EBS): EBS 只有单 AZ 高可用，持久性不如 S3，且需要管理 EC2 实例。
    * **选项 B:** S3 (持久性 11个9) + Bucket Policy (强制 HTTPS) + SSE-KMS (满足 CMK 和轮换)。完美匹配。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **S3:** 最佳文档存储。
* **SSE-KMS (CMK):** 满足客户管理密钥和轮换合规要求。
* **Bucket Policy:** `aws:SecureTransport` 强制传输加密。

**5. 📚 核心考点:** S3 高级安全配置 (KMS + HTTPS Enforcement)。