#### 📝 [144/529] FSx 容量自动扩容 (EventBridge + Lambda)

**1. 🕵️‍♂️ 题眼与约束分析**
* **场景：** WorkSpaces User Profiles stored on FSx for Windows。
* **故障：** **Full capacity** (满了)。
* **需求：**
    1.  Regain access (扩容)。
    2.  **Prevent recurring** (防止再犯 -> 自动化)。
* **技术点：** FSx 支持在线扩容。

**2. ⚡ 秒杀思路**
* **自动化扩容流程：**
    * 监控：CloudWatch Metric (`FreeStorageCapacity`)。
    * 触发：Alarm $\\rightarrow$ 动作。
    * 动作：调用 API `UpdateFileSystem` 增加容量。
* **选项对比：**
    * 选项 A (Migrate to Lustre): Lustre 是高性能计算用的，不是给 Windows 用户配置文件用的（不支持 SMB/AD）。
    * 选项 C (Step Functions): 监控指标触发 Step Functions？CloudWatch Alarm 通常触发 SNS 或 Lambda。虽然 SF 也能做，但 B 选项更直接。且 C 没提具体怎么触发（Using CW metrics...）。
    * 选项 D (Create another FSx): 分流用户？管理极其复杂（AD 组策略重定向），治标不治本。
    * **选项 B:** 使用 **update-file-system** 命令（解决当下）。实施 **CloudWatch Metric** 监控空闲空间 $\\rightarrow$ **EventBridge/Alarm** $\\rightarrow$ **Lambda** 自动扩容。这是标准的自动化运维方案。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **FSx Online Scaling:** 支持不中断业务扩容。
* **Automated Remediation:** 监控 + Lambda 闭环。

**5. 📚 核心考点:** FSx for Windows 的容量管理与自动化。