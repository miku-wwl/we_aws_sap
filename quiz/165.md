#### 📝 [165/529] 遗留应用访问 S3 (S3 File Gateway)

**1. 🕵️‍♂️ 题眼与约束分析**
* **痛点：** 处理服务器（Linux）生成文件，**cannot be updated to use S3 API** (不能改代码用 SDK)。
* **需求：** Fast access, Available for download in S3 within 30 mins (S3 可见)。
* **核心冲突：** App 只能写本地文件系统 vs 目标是 S3。

**2. ⚡ 秒杀思路**
* **协议转换：** 需要一个能把 S3 伪装成文件系统（NFS）的网关。
* **工具选型：** **AWS Storage Gateway (S3 File Gateway)**。它提供 NFS 挂载点，App 往里写文件，Gateway 自动异步上传到 S3。
* **选项对比：**
    * 选项 A (Lambda + SDK): 违反 "cannot update processing servers"。
    * 选项 C (FSx for Lustre): 虽然也能链接 S3，但 Lustre 主要是为高性能计算设计的，且成本较高。对于"文档处理"场景，File Gateway 是标准对口产品。
    * 选项 D (DataSync): DataSync 是任务调度的（Task-based），不是实时挂载的。虽然能同步，但 File Gateway 的 NFS 体验更无缝。
    * **选项 B:** 设置 **S3 File Gateway**，挂载 NFS。注意：`RefreshCache` 是为了让网关看到 S3 上的新文件（题目说 S3 上也有直接修改？不，题目只说生成到 S3 供下载）。但不管怎样，File Gateway 是解决"遗留应用写 S3"的标准答案。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **S3 File Gateway:** 提供 NFS 接口，后端对接 S3，适合遗留应用。

**5. 📚 核心考点:** 混合云存储网关选型 (File Gateway)。