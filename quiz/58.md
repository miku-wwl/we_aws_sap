
---

#### 📝 [58/529] 紧急救火：无 SSH 密钥备份 EBS

**1. 🕵️‍♂️ 题眼与约束分析**
* **危机：** 必须备份加密 EBS 到 S3。
* **障碍：** **No SSH Key Pair** (丢了密钥，进不去系统)。
* **要求：** **Application must continue to serve users** (不能停机/不能重启？不对，是持续服务，但如果实例在 ASG 里或者有冗余，重启单台可能被接受。但看选项，有 Create Image 操作)。
* **核心工具：** **Systems Manager (SSM) Run Command / Session Manager**。

**2. ⚡ 秒杀思路**
* **访问权恢复：**
    * 没有 SSH Key，唯一的进入方法是 **AWS Systems Manager Session Manager**（前提是装了 SSM Agent 且有 IAM Role）。
    * 题目说 "Application team does not have the key"，但没说不能给实例加 Role。
* **选项分析：**
    * **选项 A:** 给实例附加一个有 S3 写入权限的 IAM Role $\rightarrow$ 使用 SSM Session Manager 登录（不需要 SSH Key）$\rightarrow$ 运行命令 cp 数据到 S3。
    * **可行性：** Amazon Linux 2 默认预装 SSM Agent。只要附加上 Role，SSM 就能接管。这是零干扰、最快的方法。
    * **选项 B/D (Create Image):** 创建 AMI 会导致实例重启（除非选 NoReboot，但那样数据可能不一致）。而且从 AMI 启动新实例来拷数据太慢，且业务可能受影响。
    * **选项 C (DLM):** DLM 是做快照的，快照是在 S3 上，但它是 EBS Snapshot 格式，不是用户能直接访问的文件（Legal department 通常要的是文件级备份）。如果只要 Snapshot，C 最简单。但题目说 "copy data... to S3 bucket"，通常指文件级导出。且 A 方案更通用。
    * **修正判断：** 如果题目仅仅是“备份数据”，C (快照) 是最标准的。但题目说 "copy data to S3 bucket"，这通常意味着 "aws s3 cp"。且 "Legal department" 通常需要查看文件内容。最关键的是，A 选项利用 SSM 绕过 SSH 限制，是经典的运维考点。
    * **锁定 A。**

**3. ✅ 正确选项解析 (选项 A)**
* **SSM Session Manager:** 无需 SSH 密钥管理实例的神器。
* **IAM Role:** 赋予实例操作 S3 的权限。

**5. 📚 核心考点:** 丢失 SSH 密钥后的实例管理 (SSM)。
