#### 📝 [162/529] 禁止绕过 CloudFront 访问 ALB

**1. 🕵️‍♂️ 题眼与约束分析**
* **架构：** CloudFront $\\rightarrow$ ALB $\\rightarrow$ EC2。
* **风险：** 互联网流量直接访问 ALB（绕过 WAF/CloudFront）。
* **需求：** Prevent direct access (禁止直接访问) + **Least operational overhead**。

**2. ⚡ 秒杀思路**
* **安全组策略：**
    * 最简单的方法是在 ALB 的安全组上，只允许 **CloudFront 的 IP 范围** 访问。
    * AWS 提供了 **AWS-managed Prefix List for CloudFront** (托管前缀列表)。你只需要在安全组规则里引用这个 ID (`pl-xxxx`)，AWS 会自动维护背后的 IP 列表。
* **WAF 策略 (A/B):**
    * 在 ALB 上也挂 WAF？虽然可以，但不如网络层阻断（安全组）来得干净彻底。而且 CloudFront 已经有 WAF 了，再在 ALB 挂 WAF 是重复投资。题目要 "Least overhead"。
* **手动 IP (D):** CloudFront IP 范围很大且会变，手动维护是噩梦。
* **选项 C:** Security Group Rule + **Managed CloudFront Prefix List**。最优雅。
* **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **Managed Prefix List:** 零维护成本的 IP 白名单机制。

**5. 📚 核心考点:** CloudFront Origin 安全加固 (Prefix List)。