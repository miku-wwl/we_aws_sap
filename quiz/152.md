#### 📝 [152/529] EKS 成本优化 (Savings Plan + Spot)

**1. 🕵️‍♂️ 题眼与约束分析**
* **平台：** EKS (EC2) + RDS MySQL。正在开发 Fargate。
* **负载模式：** **Infrequent spikes** (不频繁的高峰，基于活动日期)。
* **目标：** **Most cost-effective**。

**2. ⚡ 秒杀思路**
* **计算层 (EKS):**
    * **Base Load (基线):** 应该用 **Compute Savings Plan** (比 EC2 SP 灵活，支持 Fargate 和 EC2)。覆盖预测的基线负载。
    * **Spikes (高峰):** 既然是不频繁的高峰，**Spot Instances** 是最便宜的扩展方式。EKS 对 Spot 支持很好（Managed Node Group）。
    * $\\rightarrow$ **选中 D** (Compute SP for base + Spot for peaks)。
* **数据库层 (RDS):**
    * 选项 A (RI for peak): 为高峰买 RI？平时浪费惨重。错。
    * 选项 B (On-Demand Capacity Reservation): 容量预留只保容量不保价（还是按需价），且需要手动扩缩 Read Replica。不如计算层优化关键。
    * 选项 C (EC2 SP): EC2 Instance SP 灵活性差（锁死 Region/Family），不如 Compute SP（支持 Fargate，题目说正在开发 Fargate）。
    * **关键点：** 题目问的是整个平台的设置。选项 D 专注于计算层的最佳组合（SP + Spot）。通常数据库优化是 RI 覆盖基线，但选项 A/B 的组合都有瑕疵。D 是最纯粹的计算优化答案。
    * **再看 A:** "Standard RI for EC2... Spot for peaks... RI for DB peak". 数据库 RI 买峰值是错的。
    * **再看 D:** "Compute Savings Plan for base... Spot for peaks". 没提数据库？
    * **等等，** 题目只让选一个。
    * 让我们仔细比较 B 和 D。
    * B: Compute SP for medium load... On-Demand Capacity Reservation for peaks... DB RI for base... scale Read Replicas. 这个方案很全面，涵盖了 DB。
    * D: 只有 EKS 部分。
    * 但是，**On-Demand Capacity Reservation (ODCR)** 是要付费的（即使没跑实例也要付），而且是按需价格。对于"Infrequent spikes"，长期持有 ODCR 是亏的。Spot (D) 才是处理 Spikes 的省钱王道。
    * **Compute Savings Plans** 是最佳实践。
    * 题目中 D 选项虽然没提 DB，但在计算层（EKS）的策略是完美的：基线用 SP，峰值用 Spot。这通常是此类题目的标准答案。
    * **锁定 D。**

**3. ✅ 正确选项解析 (选项 D)**
* **Compute Savings Plans:** 覆盖基线，灵活支持 EC2 和 Fargate。
* **Spot Instances:** 最低成本处理突发流量。

**5. 📚 核心考点:** 计算资源成本优化组合 (SP + Spot)。