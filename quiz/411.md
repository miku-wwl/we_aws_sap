#### 📝 [411/529] Fargate 第三方应用 MFA 访问控制 (Cognito)

**1. 🕵️‍♂️ 题眼与约束分析**
* **应用：** Third-party Docker image on Fargate (无法修改应用代码)。
* **需求：**
    1.  Allow specific users only (白名单用户)。
    2.  **MFA required**。
    3.  Cannot integrate app with IdP (应用不支持 SAML/OIDC)。
* **架构：** ALB -> Fargate。

**2. ⚡ 秒杀思路**
* **ALB 认证：**
    * 既然应用不支持改代码集成认证，必须在 **ALB 层** 做拦截。
    * ALB 支持 `authenticate-cognito` 动作。
* **Cognito 配置：**
    * 创建 **Cognito User Pool**。
    * 创建用户。
    * **启用 MFA** (Cognito 原生支持)。
* **选项对比：**
    * **A:** Cognito User Pool + MFA + ALB Listener Rule (`authenticate-cognito`)。这是标准且唯一无需修改应用代码就能实现 MFA 保护的方案。
    * B (IAM Resource Policy): Fargate 不支持资源策略控制最终用户访问（那是控制 AWS API 调用的）。ALB Listener 也不支持直接 IAM 用户认证（只支持 OIDC/Cognito）。
    * C (IAM Identity Center): SSO 是用于 AWS 控制台或 SAML 应用的。虽然可以集成，但 ALB 原生集成的是 Cognito。
    * D (Amplify): Amplify 是开发框架，底层也是 Cognito。ALB 集成的是 Cognito User Pool，不是"Amplify 托管 UI"。A 描述更准确。
* **锁定 A。**

**3. ✅ 正确选项解析 (选项 A)**
* **ALB Authentication:** 在负载均衡器层卸载认证逻辑。
* **Cognito MFA:** 提供多因素认证保护。

**5. 📚 核心考点:** 遗留/第三方应用的无代码 MFA 保护方案 (ALB + Cognito)。

---
**恭喜你，411 题！**