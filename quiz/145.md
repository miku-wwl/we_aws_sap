#### 📝 [145/529] SFTP 现代化 (Transfer Family + S3 Event)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** 手持设备 (FTP) $\\rightarrow$ EC2 (处理/加元数据) $\\rightarrow$ S3。
* **痛点：** EC2 内存溢出、连接拒绝、单点故障。
* **限制：** **Handheld devices cannot be modified** (设备只能用 FTP)。
* **需求：** Maximize scalability, ensure updates。

**2. ⚡ 秒杀思路**
* **FTP 层：** 既然不能改设备，必须提供 FTP 接口。EC2 自建 FTP 维护难。**AWS Transfer Family** (支持 FTP/SFTP) 是最佳托管替代品，直接对接 S3。
* **处理层：**
    * 现在的逻辑是：上传 -> EC2 处理 -> S3。
    * Transfer Family 逻辑：上传 -> 直落 S3。
    * 那么"处理/加元数据"怎么办？
    * 使用 **S3 Event Notifications** 触发 **Lambda**。
    * 流程：设备 FTP 上传 -> Transfer Family -> S3 (触发事件) -> Lambda (读取文件，查库，加元数据，更新系统)。
* **选项对比：**
    * 选项 A (EC2 ASG): 只是扩容了 EC2，没解决 FTP 服务本身的脆弱性（连接保持、Session 管理）。且 Transfer Family 更 Scalable。
    * 选项 B (Transfer to EFS): EFS 挂载给 EC2 处理？还是依赖 EC2。
    * 选项 D (SQS): 题目说 "Handheld devices cannot be modified"。D 选项说 "Update handhelds to put directly to S3"。这直接违反约束。
    * **选项 C:** Transfer Family (FTP) $\\rightarrow$ S3 $\\rightarrow$ SNS (or directly Lambda) $\\rightarrow$ Lambda。这是完美的 Serverless 事件驱动架构，去除了 EC2 瓶颈。
    * **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **AWS Transfer Family:** 兼容旧设备的 FTP 协议。
* **S3 Event -> Lambda:** 异步处理，无限扩展。

**5. 📚 核心考点:** 遗留 FTP 服务的 Serverless 现代化改造。