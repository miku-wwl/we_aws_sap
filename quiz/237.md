#### 📝 [237/529] IoT 数据摄取高可用 (IoT Core + Firehose)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** 传感器 (MQTT) $→$ 本地 Kafka $→$ S3。
* **故障：** Kafka 崩溃，数据丢失。
* **目标：** HA, Scalable, **Prevent data loss**。

**2. ⚡ 秒杀思路**
* **IoT 接入：** 本地 Kafka 是单点。迁移到 **AWS IoT Core**。它是 Serverless 的，天然高可用，支持 MQTT。
* **数据流：** IoT Core $→$ ? $→$ S3。
* **选项对比：**
    * **选项 C:** IoT Core $→$ **Kinesis Data Firehose** $→$ S3。
        * Firehose 是这一路径的最佳拍档。它自动缓冲、转换（Lambda）、投递到 S3。Serverless 架构，无服务器运维。
    * 选项 A (EC2 Kafka): 还是自建 Kafka，运维重，EC2 还是可能挂。
    * 选项 B (MSK + NLB): MSK 是托管 Kafka，比 EC2 好。但 IoT Core 是 MQTT 的原生入口。如果传感器能直连 AWS，IoT Core 比 MSK 更适合作为设备网关（Device Gateway）。且 MSK 需要配置 NLB 等，架构较重。IoT Core -> Firehose 是经典模式。
    * 选项 D (IoT Core -> EC2): 把数据发给单台 EC2？瓶颈。
    * **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **IoT Core:** 解决设备连接和高可用。
* **Firehose:** 解决数据缓冲和入湖 (S3)。

**5. 📚 核心考点:** IoT 数据摄取入湖的 Serverless 架构。