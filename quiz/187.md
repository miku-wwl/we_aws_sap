#### 📝 [187/529] IoT 平台无服务器迁移 (IoT Core + DocumentDB + Step Functions)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** MQTT Server (EC2?), MongoDB (Metadata), Local App (Periodic Jobs -> Report)。
* **需求：** Reduce operational overhead (减少运维)。
* **选择：** 3 个步骤。

**2. ⚡ 秒杀思路**
* **MQTT 层：** 自建 MQTT Server 运维重。迁移到 **AWS IoT Core** (托管 MQTT)。
    * $\\rightarrow$ **选中 B**。
    * (A 选项用 Lambda 连设备？Lambda 是短连接，不适合维持 MQTT 长连接)。
* **元数据层 (MongoDB):** 迁移到 **Amazon DocumentDB** (兼容 MongoDB 的托管服务)。
    * $\\rightarrow$ **选中 D**。
    * (C 选项 EC2 自建 Mongo 运维重)。
* **报告作业 (Periodic Jobs):**
    * 现状是本地机器定期运行，耗时 120-600秒。
    * 这是一个工作流（聚合 -> 转换 -> 报告）。
    * **Step Functions + Lambda (E):** 完美编排这种短时批处理任务。Lambda 最长 15 分钟，覆盖 600 秒绰绰有余。生成的报告存 S3 + CloudFront 分发，也是 Serverless 的标准静态网站/内容分发模式。
    * $\\rightarrow$ **选中 E**。
    * (F 选项 EKS 需要管理集群，Overhead 比 Lambda 高)。
* **锁定 B, D, E。**

**3. ✅ 正确选项解析 (选项 B, D, E)**
* **IoT Core:** 托管 MQTT。
* **DocumentDB:** 托管 MongoDB。
* **Step Functions + Lambda:** 托管工作流与计算。

**5. 📚 核心考点:** IoT 遗留架构的 Serverless 现代化改造。