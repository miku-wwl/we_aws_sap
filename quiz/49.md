
---

#### 📝 [49/529] 端到端加密 (E2E Encryption)

**1. 🕵️‍♂️ 题眼与约束分析**
* **架构：** Client $\rightarrow$ LB $\rightarrow$ EC2。
* **安全需求：** **End-to-end encryption** (端到端加密)。这意味着 LB 到 EC2 这一段也要加密（HTTPS）。

**2. ⚡ 秒杀思路**
* **ALB 机制：**
    * Client 到 ALB: 使用 HTTPS，证书在 ACM 管理。
    * ALB 到 EC2: ALB 会解密，然后重新加密（Re-encrypt）发给 EC2。
    * **关键点：** 要让 ALB 能够发 HTTPS 给 EC2，EC2 上必须也要装 SSL 证书。
    * **证书来源：** ALB 上的证书可以用 ACM。EC2 上的证书**不能**把 ACM 的公有证书导出来装上去（ACM 私钥不可导出）。EC2 上通常使用**自签名证书**或**第三方证书**。ALB 默认信任后端目标的自签名证书（需配置）。
* **秒杀动作：**
    * 选项 A: "Export SSL certificate... install on EC2"。错！ACM 证书不可导出私钥（除了 Nitro Enclaves 特例，一般不考）。
    * 选项 B: CloudFront + Target Group? CloudFront 不能直接连 EC2 目标组（需要通过 ALB），且没提 EC2 上的证书。
    * 选项 D (NLB): NLB 也可以做，但通常 Web 应用首选 ALB。且 D 选项说 "install on NLB and each EC2"，NLB 如果做 TCP 透传（Passthrough），证书只要在 EC2 上即可，不需要在 NLB 上。如果 NLB 做 TLS 卸载，则都需要。描述略显累赘。
    * **选项 C:** ALB + ACM (前端) + **Third-party/Self-signed cert on EC2** (后端)。这是实现 ALB 端到端加密的标准且唯一可行（在选项中）的路径。
    * **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **E2E Encryption:** ALB Terminate TLS (Front) -> Re-encrypt (Back)。

**5. 📚 核心考点:** ACM 证书的不可导出性与端到端加密实现。
