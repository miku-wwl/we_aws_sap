#### 📝 [99/529] Client VPN 架构成本优化

**1. 🕵️‍♂️ 题眼与约束分析**
* **场景：** 员工在家办公 (Remote Work) $\rightarrow$ Client VPN。
* **拓扑：** Primary Account VPC Peered with other accounts VPCs. (主 VPC 与其他 VPC 已对等)。
* **需求：** 访问**所有**内部应用。
* **目标：** **Most cost-effective** (最具成本效益)。

**2. ⚡ 秒杀思路**
* **Client VPN 计费：** 按 Endpoint 关联的 Subnet 小时数 + 连接数计费。
* **架构选择：**
    * **选项 A (每个账户建 VPN):** 几十个账户建几十个 VPN Endpoint？贵炸了（每个 Endpoint 都有月租）。管理也麻烦（几十个客户端配置）。
    * **选项 C (TGW):** 引入 Transit Gateway 会增加 TGW 的处理费和附件费，虽然架构整洁，但题目问"最省钱"，且现有的 Peering 是免费的（只收流量费）。
    * **选项 D (S2S VPN):** Client VPN 和 S2S VPN 互连？这不是标准用法。
    * **选项 B:** 在 **Primary Account** 创建**一个** Client VPN Endpoint。
        * 利用现有的 **VPC Peering**。
        * Client VPN 连接到 Primary VPC 后，可以通过 Peering 跳转访问其他 VPC（前提是路由表和 SG 允许）。
        * 这样只需付 1 个 VPN Endpoint 的钱。
        * **注意：** VPC Peering 不支持"传递路由"，但 Client VPN 进入 VPC 后，流量源 IP 是 Client VPN ENI 的 IP（在 VPC 内），对于 Peering 来说，这就是本地 VPC 的流量访问对等 VPC，是**支持**的（这不叫传递路由，叫 Peering 访问）。
        * **修正：** 等等，Client VPN -> VPC A -> Peering -> VPC B。这算传递吗？
        * Client VPN 的网卡（ENI）在 VPC A 里。当客户端访问 VPC B 时，流量从 ENI 发出，源 IP 是 VPC A 的 CIDR（如果是 NAT）或者 Client CIDR（如果路由配置了）。
        * 只要 Client VPN CIDR 不与 VPC B 冲突，且 VPC A 的路由表指向 VPC B，VPC B 的路由表回指 VPC A，这是通的。
        * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **Centralized Client VPN:** 利用现有网络拓扑（Peering）实现单入口访问全网，成本最低。

**5. 📚 核心考点:** Client VPN 的部署架构与成本。