#### 📝 [447/529] 成本异常检测 (Cost Anomaly Detection)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** Monthly bill consistent (账单通常一致)。
* **问题：** Developers forget to delete test resources -> Cost increases (未删除资源导致成本增加)。
* **需求：**
    1.  Automate finding unused resources (or cost increase)。
    2.  Identify resource causing increase (定位资源)。
    3.  Notify ops team。

**2. ⚡ 秒杀思路**
* **工具选型：**
    * **CloudWatch Alarm (A/B):** 基于静态阈值（如 > $1000）。需要手动设置阈值。如果阈值设得高，小额增加发现不了；设得低，误报多。且 CloudWatch 只能告诉你"总额超了"，很难直接告诉你"是哪个资源导致的"。
    * **AWS Cost Anomaly Detection (C/D):** 使用机器学习自动检测成本异常（即使是小额的、渐进的）。它会发送详细的报告，指出**根本原因**（哪个服务、哪个账号、甚至哪个资源类型）。
* **配置细节：**
    * **C (Linked Account Monitor):** 监控特定关联账户。
    * **D (AWS Service Monitor):** 监控特定服务。
    * 题目是"Member accounts"中的资源。通常我们关心的是"哪个账户"还是"哪个服务"？Cost Anomaly Detection 可以配置 **AWS Service Monitor**（监控各服务的异常）或 **Linked Account Monitor**（监控各账户的异常）。
    * 题目说 "Identify resource causing increase"。Cost Anomaly Detection 的报告里会包含这些细节。
    * 关键是 C 还是 D？
    * 如果选 D (Service Monitor)，它是全局看服务的。如果选 C (Linked Account)，它能细分到账户。题目说 "Identify resource"。
    * 实际上，**AWS Cost Anomaly Detection** 推荐使用 **AWS Service Monitor** (D) 来覆盖所有服务，或者 **Custom Monitor**。
    * 让我们看选项描述。C 说 "Linked account monitor type"。D 说 "AWS service monitor type"。
    * 通常 Service Monitor 是粒度更细的（按服务划分）。如果我想知道是 EC2 还是 RDS 导致的，选 Service Monitor。
    * 但是，D 选项说 "Create a subscription... send daily summary"。
    * **Cost Anomaly Detection** 是最符合 "Identify resources causing cost increase" 这种智能分析需求的。
    * **对比 C 和 D:** 对于 "Developers create new resource... forget to delete"，这通常是特定服务的成本激增。Service Monitor (D) 更合适。
    * **锁定 D。** (或者 C，取决于想看账户级还是服务级，通常 Service Monitor 是默认推荐)。AWS 文档建议：对于细粒度分析，使用 Service Monitor。

**3. ✅ 正确选项解析 (选项 D)**
* **Cost Anomaly Detection:** 利用 ML 自动发现非预期的成本变化，并提供根因分析。

**5. 📚 核心考点:** 成本异常监控工具的应用。