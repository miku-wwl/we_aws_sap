#### 📝 [189/529] 抗攻击与业务连续性 (CloudFront + WAF)

**1. 🕵️‍♂️ 题眼与约束分析**
* **架构：** ECS + DynamoDB + ALB。
* **威胁：** **Attacks from malicious actors** (恶意攻击)。
* **需求：** **Prevent attacks** (防御) + **Ensure business continuity** (连续性) + **Cost-effective**。
* **选择：** 2 个步骤。

**2. ⚡ 秒杀思路**
* **防御层：**
    * Web 应用攻击首选 **AWS WAF**。
    * 配合 **CloudFront** 可以缓存内容，吸收攻击流量（DDoS），并隐藏源站 IP。
    * $\\rightarrow$ **选中 E** (WAF + CloudFront)。
* **源站保护 (ALB):**
    * 即使有了 CloudFront，攻击者如果知道 ALB 的域名/IP，还是可以绕过 CF 直接攻击 ALB。
    * 必须配置 ALB **只接受来自 CloudFront 的流量**。
    * 方法：在 CloudFront 发请求时添加一个 **Custom Header** (自定义头，如 `X-Secret: RandomString`)。然后在 ALB 的监听规则里检查这个头，如果不匹配则拒绝。
    * $\\rightarrow$ **选中 A**。
* **排除法：**
    * B (Multi-Region): 主要是防灾难，防攻击效果一般（攻击者可以打两个区域）。
    * C (DAX): 加速 DB 的，防不了 App 攻击。
    * D (ElastiCache): 同上。
* **锁定 A, E。**

**3. ✅ 正确选项解析 (选项 A, E)**
* **WAF + CloudFront:** 标准防御组合。
* **Custom Header:** 防止源站绕过攻击 (Origin Bypass)。

**5. 📚 核心考点:** CloudFront 源站保护的最佳实践 (Custom Header / Prefix List)。