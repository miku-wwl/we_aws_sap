
---

#### 📝 [55/529] 成本分摊与预测 (3选)

**1. 🕵️‍♂️ 题眼与约束分析**
* **需求：**
    1.  确定每个 APP/Team 的成本（Attribution）。
    2.  比较过去 12 个月。
    3.  **Forecast** (预测) 未来 12 个月。
* **标签：** 资源已有标签。

**2. ⚡ 秒杀思路**
* **步骤 1：激活标签。** 标签必须在计费控制台激活才生效。题目说资源有标签（User-Defined），所以要激活 **User-Defined Cost Allocation Tags**。
    * $\rightarrow$ **选中 A**。
* **步骤 2：分析与预测。** **Cost Explorer** 是查看历史数据和进行**预测 (Forecasting)** 的唯一工具。
    * $\rightarrow$ **选中 F**。
* **步骤 3：成本分类/分组。** 题目提到 "Applications running on EC2, ECS, RDS"，可能涉及复杂的成本归因。**Cost Categories** (成本类别) 允许你基于规则（如 Tag A = 'X' AND Tag B = 'Y'）将成本分组。虽然直接用 Tag 过滤也可以，但 Cost Categories 更高级。如果要在 A, F 之外选第三个：
    * 选项 B (AWS Generated Tags): 题目说是“Team resources have tags”，通常指用户打的标签，AWS 生成的标签（如 `createdBy`）不一定能代表 Team。
    * 选项 D (IAM Access): 这是前提，不是解决方案。
    * 选项 E (Budgets): 用于监控和报警，不是用来“生成报告”或“预测”的（虽然 Budget 有一点预测能力，但 CE 更强）。
    * **选项 A, F** 是铁定的。第三个选 **A** 还是 **B**? 题目明确 "Team resources have tags representing their application and team"。这是用户定义的。所以 **A** 必选，**B** 没必要。
    * 那么第三个选什么？**Cost Explorer** 需要权限吗？不需要显式选 D（那是 IAM 设置）。
    * 让我们看 **C (Cost Categories)**。它能把 EC2, ECS, RDS 的成本根据 Tag 聚合成 "App A Cost" 或 "Team B Cost"，生成更清晰的视图。这符合“确定哪些费用归因于每个应用程序”的需求。
    * **修正：** 其实最基础的三步是：1. 激活标签 (A)；2. 启用 Cost Explorer (F)；3. ...?
    * **仔细看选项 D:** "Activate IAM Access to Billing"。在新的 AWS 账户中，IAM 用户默认**没有**权限访问 Billing 控制台，必须由 Root 账户显式激活。这是一个非常基础但关键的步骤，没有它，架构师根本进不去 Cost Explorer。
    * **权衡 C vs D:** 如果题目是问“如何配置报告”，选 C。如果是问“如何搭建整个解决方案（包括权限）”，选 D。考虑到“预测未来”是 Cost Explorer 的核心功能，而 CE 必须有 IAM 权限才能由非 Root 用户访问。
    * **最佳实践组合：** A (激活标签) + D (允许 IAM 访问账单) + F (启用 CE 进行分析预测)。
    * **锁定 A, D, F。**

**3. ✅ 正确选项解析 (选项 A, D, F)**
* **Activate User Tags:** 让业务标签进入账单系统。
* **IAM Access to Billing:** 允许非 Root 用户（架构师/财务）操作。
* **Cost Explorer:** 核心分析与预测工具。

**5. 📚 核心考点:** 成本管理工具链的基础配置。
