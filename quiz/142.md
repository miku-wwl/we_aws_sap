#### 📝 [142/529] API Gateway 私有化 (Private Endpoint)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** Regional API Gateway。
* **需求：** **Make APIs accessible only from the VPC** (仅限 VPC 访问)。
* **约束：** **Least effort** (最少工作量)。

**2. ⚡ 秒杀思路**
* **API Gateway 类型：** API Gateway 支持三种端点类型：Edge, Regional, **Private**。
* **Private API:** 只能通过 **Interface VPC Endpoint** 访问。这是专门为 VPC 内网访问设计的。
* **操作步骤：**
    1.  将 API 类型从 Regional 改为 Private。
    2.  在 VPC 创建 Interface Endpoint。
    3.  配置 Resource Policy (只允许该 Endpoint 访问)。
* **选项对比：**
    * 选项 A (Internal ALB): API Gateway 前面挂 ALB？这是反模式（ALB Target Group 支持 Lambda，但没必要经过 API Gateway 再去调 ALB）。或者把 API Gateway 放在 ALB 后面？API Gateway 是托管服务，不在你 VPC 里，ALB 连不上它（除非 Private API）。架构复杂。
    * 选项 B (Route 53 CNAME): 只是改 DNS，无法阻止公网访问（Regional API 默认公网可达）。
    * 选项 D (EC2 Apache 代理): 自建代理，运维重。
    * **选项 C:** 直接利用 API Gateway 原生功能 **Private Endpoint**。最简单，最标准。
    * **锁定 C。**

**3. ✅ 正确选项解析 (选项 C)**
* **Private API + VPC Endpoint:** 确保流量只在私有网络内流转，公网无法解析或访问。

**5. 📚 核心考点:** API Gateway 私有化配置。