#### 📝 [456/529] S3 批处理成本优化 (Batch + Spot)

**1. 🕵️‍♂️ 题眼与约束分析**
* **任务：** Large batch jobs on S3 data (Simulation)。
* **特点：** 15-20GB per job, **Can be interrupted** (可中断)。
* **目标：** **Most cost-effective**。

**2. ⚡ 秒杀思路**
* **计算资源：**
    * 可中断 $→$ **Spot Instances**。
* **调度服务：**
    * **AWS Batch (B/C):** 专门为批处理设计，原生支持 Spot 实例调度，自动重试。
    * Step Functions + Lambda (A): Lambda 有内存（10GB Max）和时间（15min）限制。处理 15-20GB 数据可能不够或超时，且成本通常比 Spot 高。
    * EKS (D): 管理 K8s 集群有额外成本（Control Plane）和运维。Batch 更轻量（Serverless-like）。
* **分配策略 (Allocation Strategy):**
    * **SPOT_CAPACITY_OPTIMIZED (B/C):** 这是使用 Spot 的最佳实践，它选择中断率最低的池，而不是仅仅最便宜的（SPOT_PRICE_CAPACITY_OPTIMIZED）。这能减少作业中断重试的概率，从而间接省钱（重试也要钱）。
* **B vs C:**
    * B: **Spot Only**。既然任务可以中断，且要求最具成本效益，全 Spot 是最便宜的。
    * C: On-Demand + Spot。混合模式成本比全 Spot 高。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **AWS Batch:** 托管批处理调度。
* **Spot Instances:** 最低计算成本。
* **Capacity Optimized:** 减少中断，提高完成率。

**5. 📚 核心考点:** 大规模可中断批处理任务的成本优化架构。