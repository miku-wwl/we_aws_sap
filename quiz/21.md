
---

#### 📝 [21/529] AWS SSO (IAM Identity Center) 与 AD 集成

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** 本地 Active Directory (AD)。
* **目标：** 登录 AWS Organizations 下的所有账户 (Single location management)。
* **关键需求：** **Conditional access based on user groups** (基于组的条件访问) + **Single location to manage identities**。
* **核心服务更新：** 注意，题目中的 "AWS Single Sign-On (AWS SSO)" 现在已更名为 **AWS IAM Identity Center**。

**2. ⚡ 秒杀思路**
* **关键词匹配：**
    * "Single location to manage" + "Access to AWS Accounts" + "Active Directory" $\rightarrow$ **AWS IAM Identity Center**。
    * "Conditional access" + "Attribute-based" (更灵活的权限控制) $\rightarrow$ **ABAC (Attribute-Based Access Control)** 是实现精细化条件访问的最佳实践。
* **排除法：**
    * 选项 C/D (IAM User/Role): 这需要在每个账户里配置 IAM，虽然可以用 StackSet 自动化，但不如 SSO 集中管理方便，且题目强调 "Single location managed"。
    * 选项 B (Permission Sets): 权限集是 SSO 的基本功能，但题目提到了复杂的“基于组和角色的条件访问”，选项 A 提到的 ABAC 是更高级、更符合现代安全架构的方案（虽然 B 也是可行的一部分，但 A 描述了连接机制 SAML + SCIM + ABAC，更完整）。
    * **细看 A vs B:** 选项 A 明确提到了 "Connect to Active Directory using SAML 2.0" 和 "SCIM"。这是标准的混合云 SSO 模式。选项 B 说 "Configure IAM Identity Center as identity source"（把 SSO 当成身份源），这意味着你要在 AWS 里重建用户，而不是用本地 AD。题目明确说 "Company uses on-premises Active Directory"，所以必须选 **连接到 AD** 的选项。
    * **锁定 A。**

**3. ✅ 正确选项解析 (选项 A)**
* **IAM Identity Center + SAML/SCIM:** 这是标准配置，AD 作为 IdP，AWS SSO 作为 SP。SCIM 自动同步用户和组。
* **ABAC:** 允许你写一条权限策略（如：允许访问 `Project=TeamA` 的资源），然后通过 AD 传递过来的属性（Team=TeamA）自动匹配。这比给每个组写死 Role 要灵活得多，完美满足 "Conditional access"。

**5. 📚 核心考点:** AWS IAM Identity Center 的 AD 集成模式及 ABAC 优势。

---