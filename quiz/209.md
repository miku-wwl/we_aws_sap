#### 📝 [209/529] IoT 平台高可靠性改造 (IoT Core)

**1. 🕵️‍♂️ 题眼与约束分析**
* **现状：** 传感器 $\\rightarrow$ 自定义 MQTT Broker (单 EC2)。
* **故障：** Broker 超载，数据丢失。
* **目标：** Improve reliability (提高可靠性)。

**2. ⚡ 秒杀思路**
* **IoT 架构现代化：** 自建 MQTT Broker 是单点故障且难以扩展。AWS 提供了托管的 **AWS IoT Core**。
* **选项对比：**
    * 选项 A (ALB + ASG): MQTT 是长连接协议，ALB + ASG 扩展 MQTT Broker 非常复杂（Session 状态、粘性、重连风暴）。不推荐。
    * 选项 C (NLB + GA): 还是自建 Broker，只是加了网络层，没解决 Broker 本身的存储和处理瓶颈。
    * 选项 D (Greengrass): Greengrass 是边缘计算，不是云端接收服务。传感器是直接连云的。
    * **选项 B:** 使用 **AWS IoT Core**。
        * 原生支持 MQTT，自动扩展，高可靠。
        * **Data-ATS Endpoint:** 是推荐的安全端点类型。
        * **Custom Domain:** 解决 iot.example.com 的域名迁移问题。
        * **IoT Rules:** 直接将数据存入 DynamoDB，去掉了中间的存储瓶颈。
    * **锁定 B。**

**3. ✅ 正确选项解析 (选项 B)**
* **AWS IoT Core:** 托管 MQTT 服务，解决扩展性和可靠性问题。

**5. 📚 核心考点:** 自建 MQTT Broker 迁移到 AWS IoT Core。