#### 📝 [235/529] HPC 集群性能优化 (FSx Lustre + EFA + Single AZ)

**1. 🕵️‍♂️ 题眼与约束分析**
* **场景：** HPC, **Tightly coupled** (紧密耦合工作负载)。
* **问题：** 扩展到 1000 节点时性能差。
* **瓶颈：** EFS 共享文件。
* **目标：** **Max Performance**。
* **选择：** 3 个设计选择。

**2. ⚡ 秒杀思路**
* **网络层 (Tight Coupling):**
    * 紧密耦合意味着节点间通信极其频繁且要求低延迟。
    * 必须在 **Single AZ (A)** 内部署，以获得最低延迟（跨 AZ 延迟高）。 $→$ **选中 A**。
    * 必须使用 **Elastic Fabric Adapter (EFA) (C)**。这是 AWS 专为 HPC 设计的网卡，支持 OS-bypass，极低延迟。 $→$ **选中 C**。
* **存储层 (Shared Files):**
    * EFS 是通用文件系统，对于 HPC 高并发吞吐可能成瓶颈。
    * **FSx for Lustre (F)** 是专为 HPC 设计的高性能并行文件系统。 $→$ **选中 F**。
* **排除法：**
    * D (Multi-AZ): 违反紧密耦合需求。
    * E (EBS RAID): EBS 只能挂给单台机器（或特定条件下 Multi-Attach），不能给 1000 台机器做共享文件系统。
* **锁定 A, C, F。**

**3. ✅ 正确选项解析 (选项 A, C, F)**
* **Single AZ:** 物理距离最近。
* **EFA:** 网络延迟最低。
* **FSx for Lustre:** 存储吞吐最高。

**5. 📚 核心考点:** HPC 紧密耦合场景的"三件套"优化。