
---

#### 📝 [41/529] DynamoDB 峰值成本优化

**1. 🕵️‍♂️ 题眼与约束分析**
* **负载特征：**
    * **Peak (峰值):** 每周一次，持续 4 小时，2倍于平均值。
    * **Average (平均):** 一周其余时间都很平稳。
    * **操作:** Write-heavy (写多读少)。
* **目标：** **Minimize cost** (最小化成本)。
* **核心机制：** DynamoDB Capacity Modes (Provisioned vs On-Demand)。

**2. ⚡ 秒杀思路**
* **模式对比：**
    * **On-Demand:** 适合不可预测的流量，或者流量极其稀疏。单价贵。
    * **Provisioned + Auto Scaling:** 适合有规律的、渐变的流量。单价便宜。
    * **Reserved Capacity:** 只能购买预配置容量（Provisioned），不能买 On-Demand。适合“基线负载”。
* **秒杀动作：**
    * 流量有明显的“基线”（平时）和“规律的峰值”（每周4小时）。
    * **最佳组合：** 对“基线负载”购买 **Reserved Capacity** (打折最狠) + 对“峰值”使用 **Auto Scaling** (自动把容量拉上去，峰值过后再降下来)。
    * 选项 B (On-Demand) 对于长期运行的平稳负载来说，比 Provisioned 贵约 5-7 倍。
    * 选项 C/D (DAX): DAX 是读缓存。题目明确说是 **Write-heavy**，DAX 对写操作毫无帮助，纯属浪费钱。
    * **锁定 A。**

**3. ✅ 正确选项解析 (选项 A)**
* **Reserved Capacity:** 覆盖底座流量，省钱。
* **Auto Scaling:** 覆盖每周那 4 小时的峰值，用完即走。

**5. 📚 核心考点:** DynamoDB 计费模式选型 (Reserved + AS 组合拳)。